{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 95, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/utils/storage.js"],"sourcesContent":["import Cookies from 'js-cookie';\r\n\r\nconst TOKEN_KEY = 'token';\r\nconst REFRESH_TOKEN_KEY = 'refreshToken';\r\nconst USER_ID_KEY = 'userId';\r\nconst SESSION_ID_KEY = 'sessionId';\r\nconst CART_ID_KEY = 'cartId';\r\n\r\n// Set token in cookies\r\nexport const setToken = (token) => Cookies.set(TOKEN_KEY, token, { expires: 7, secure: true, sameSite: 'Strict' });\r\n\r\n// Get token from cookies\r\nexport const getToken = () => Cookies.get(TOKEN_KEY);\r\n\r\n// Remove token from cookies\r\nexport const removeToken = () => Cookies.remove(TOKEN_KEY);\r\n\r\n// Set refresh token in cookies\r\nexport const setRefreshToken = (token) => Cookies.set(REFRESH_TOKEN_KEY, token, { expires: 7, secure: true, sameSite: 'Strict' });\r\n\r\n// Get refresh token from cookies\r\nexport const getRefreshToken = () => Cookies.get(REFRESH_TOKEN_KEY);\r\n\r\n// Remove refresh token from cookies\r\nexport const removeRefreshToken = () => Cookies.remove(REFRESH_TOKEN_KEY);\r\n\r\n// Set user ID in cookies\r\nexport const setUserId = (userId) => Cookies.set(USER_ID_KEY, userId, { expires: 7, secure: true, sameSite: 'Strict' });\r\n\r\n// Get user ID from cookies\r\nexport const getUserId = () => Cookies.get(USER_ID_KEY);\r\n\r\n// Remove user ID from cookies\r\nexport const removeUserId = () => Cookies.remove(USER_ID_KEY);\r\n\r\n// Set session ID in cookies\r\nexport const setSessionId = (sessionId) =>\r\n    Cookies.set(SESSION_ID_KEY, sessionId, { expires: 7, secure: false, sameSite: 'Strict' });\r\n\r\n// Get session ID from cookies\r\nexport const getSessionId = () => Cookies.get(SESSION_ID_KEY);\r\n\r\n// Remove session ID from cookies\r\nexport const removeSessionId = () => Cookies.remove(SESSION_ID_KEY);\r\n\r\n// Set cart ID in cookies\r\nexport const setCartId = (cartId) => Cookies.set(CART_ID_KEY, cartId, { expires: 7, secure: false, sameSite: 'Strict' });\r\n\r\n// Get cart ID from cookies\r\nexport const getCartId = () => Cookies.get(CART_ID_KEY);\r\n\r\n// Remove cart ID from cookies\r\nexport const removeCartId = () => Cookies.remove(CART_ID_KEY);\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;;;;;;AAEA,MAAM,YAAY;AAClB,MAAM,oBAAoB;AAC1B,MAAM,cAAc;AACpB,MAAM,iBAAiB;AACvB,MAAM,cAAc;AAGb,MAAM,WAAW,CAAC,QAAU,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,WAAW,OAAO;QAAE,SAAS;QAAG,QAAQ;QAAM,UAAU;IAAS;AAGzG,MAAM,WAAW,IAAM,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC;AAGnC,MAAM,cAAc,IAAM,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC;AAGzC,MAAM,kBAAkB,CAAC,QAAU,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,mBAAmB,OAAO;QAAE,SAAS;QAAG,QAAQ;QAAM,UAAU;IAAS;AAGxH,MAAM,kBAAkB,IAAM,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC;AAG1C,MAAM,qBAAqB,IAAM,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC;AAGhD,MAAM,YAAY,CAAC,SAAW,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,aAAa,QAAQ;QAAE,SAAS;QAAG,QAAQ;QAAM,UAAU;IAAS;AAG9G,MAAM,YAAY,IAAM,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC;AAGpC,MAAM,eAAe,IAAM,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC;AAG1C,MAAM,eAAe,CAAC,YACzB,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,gBAAgB,WAAW;QAAE,SAAS;QAAG,QAAQ;QAAO,UAAU;IAAS;AAGpF,MAAM,eAAe,IAAM,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC;AAGvC,MAAM,kBAAkB,IAAM,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC;AAG7C,MAAM,YAAY,CAAC,SAAW,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC,aAAa,QAAQ;QAAE,SAAS;QAAG,QAAQ;QAAO,UAAU;IAAS;AAG/G,MAAM,YAAY,IAAM,wHAAA,CAAA,UAAO,CAAC,GAAG,CAAC;AAGpC,MAAM,eAAe,IAAM,wHAAA,CAAA,UAAO,CAAC,MAAM,CAAC"}},
    {"offset": {"line": 158, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/utils/apiClient.js"],"sourcesContent":["import axios from 'axios';\r\nimport {\r\n    getToken,\r\n    setToken,\r\n    getRefreshToken,\r\n    setRefreshToken,\r\n    getUserId,\r\n    setUserId,\r\n    setSessionId,\r\n    getSessionId,\r\n    removeSessionId,\r\n    removeRefreshToken,\r\n    removeUserId,\r\n    removeToken,\r\n    setCartId,\r\n    getCartId,\r\n    removeCartId,\r\n} from './storage';\r\nimport { resetAuthState } from '../store/slices/userSlice';\r\n\r\n// https://kltn-1a.onrender.com hihi\r\n\r\nconst apiClient = axios.create({\r\n    baseURL: 'https://kltn-1a.onrender.com/api/',\r\n});\r\n\r\n// **Request Interceptor**\r\napiClient.interceptors.request.use(\r\n    async (config) => {\r\n        try {\r\n            // Retrieve access token and session ID from cookies\r\n            const accessToken = getToken();\r\n            const sessionId = getSessionId();\r\n\r\n            // Add Authorization header if token exists\r\n            if (accessToken) {\r\n                config.headers['Authorization'] = `Bearer ${accessToken}`;\r\n            }\r\n\r\n            // Add session ID header if session ID exists\r\n            if (sessionId) {\r\n                config.headers['x-session-id'] = sessionId; // Add session ID to headers\r\n            }\r\n        } catch (error) {\r\n            console.error('Error adding headers:', error);\r\n        }\r\n        return config;\r\n    },\r\n    (error) => Promise.reject(error)\r\n);\r\n\r\napiClient.interceptors.response.use(\r\n    (response) => {\r\n        // Log toàn bộ response để kiểm tra\r\n        console.log('Response received:', response);\r\n        console.log('Response headers:', response.headers['x-session-id']);\r\n\r\n        // Lưu session ID nếu có trong headers của response\r\n        const sessionId = response.headers['x-session-id'];\r\n        if (sessionId) {\r\n            setSessionId(sessionId); // Lưu vào cookie hoặc storage\r\n            console.log('Session ID saved from response:', sessionId); // Log session ID để kiểm tra\r\n        }\r\n\r\n        return response;\r\n    },\r\n    async (error) => {\r\n        // Log toàn bộ error response\r\n        console.error('Error response:', error.response);\r\n\r\n        const originalRequest = error.config;\r\n\r\n        // Thêm thuộc tính _retryCount nếu chưa có\r\n        if (!originalRequest._retryCount) {\r\n            originalRequest._retryCount = 0;\r\n        }\r\n\r\n        // Nếu lỗi 403 và chưa đạt giới hạn retry\r\n        if (error.response?.status === 403 && originalRequest._retryCount < 5) {\r\n            originalRequest._retryCount += 1; // Tăng số lần retry\r\n\r\n            if (originalRequest.url.includes('/users/refresh-token')) {\r\n                console.error('Token refresh failed. Redirecting to login...');\r\n                removeSessionId(); // Xóa session ID\r\n                store.dispatch(resetAuthState());\r\n                return Promise.reject(new Error('Please log in again.'));\r\n            }\r\n\r\n            try {\r\n                const newAccessToken = await userApi.refreshToken();\r\n                originalRequest.headers['Authorization'] = `Bearer ${newAccessToken}`;\r\n                return apiClient(originalRequest); // Retry request với token mới\r\n            } catch (refreshError) {\r\n                console.error('Error during token refresh:', refreshError);\r\n                return Promise.reject(refreshError);\r\n            }\r\n        }\r\n\r\n        // Nếu vượt quá số lần retry, trả về lỗi\r\n        if (originalRequest._retryCount >= 5) {\r\n            console.error('Maximum retry attempts reached.');\r\n            return Promise.reject(new Error('Request failed after maximum retries.'));\r\n        }\r\n\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n\r\n// **User API**\r\nconst userApi = {\r\n    // Register user\r\n    register: async (userData) => {\r\n        try {\r\n            const response = await apiClient.post('users/register', userData);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    // Verify OTP for registration\r\n    verifyOtp: async (otpData) => {\r\n        try {\r\n            const response = await apiClient.post('users/verify-otp', otpData);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    },\r\n\r\n    // Login user\r\n    login: async (credentials) => {\r\n        try {\r\n            const response = await apiClient.post('users/login', credentials);\r\n            const { accessToken, refreshToken } = response.data.data;\r\n\r\n            if (accessToken && refreshToken) {\r\n                setToken(accessToken); // Lưu access token\r\n                setRefreshToken(refreshToken); // Lưu refresh token\r\n                removeCartId(); // Xóa cart ID khi đăng nhập\r\n            }\r\n\r\n            // Kiểm tra và lưu session ID từ headers của response\r\n            const sessionId = response.headers['x-session-id'];\r\n            if (sessionId) {\r\n                setSessionId(sessionId); // Lưu session ID vào cookie hoặc storage\r\n                console.log('Session ID received and saved during login:', sessionId); // Log kiểm tra\r\n            }\r\n\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error;\r\n        }\r\n    },\r\n\r\n\r\n    // Logout user\r\n    logout: async () => {\r\n        try {\r\n            const refreshToken = getRefreshToken();\r\n            const userId = getUserId();\r\n            await apiClient.post('users/logout', { refreshToken, userId });\r\n\r\n            // Clear all stored tokens and session ID\r\n            removeSessionId();\r\n            removeRefreshToken();\r\n            removeUserId();\r\n            removeSessionId();\r\n            removeToken();\r\n            removeCartId();\r\n            return { message: 'Logout successful' };\r\n        } catch (error) {\r\n            throw error.response?.data || 'Logout failed';\r\n        }\r\n    },\r\n\r\n    // Get user profile\r\n    getUserProfile: async () => {\r\n        try {\r\n            const response = await apiClient.get('users/profile');\r\n            return response.data.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to fetch user profile';\r\n        }\r\n    },\r\n\r\n    // Refresh token\r\n    refreshToken: async () => {\r\n        try {\r\n            const get_refreshToken = getRefreshToken();\r\n            const get_userId = getUserId();\r\n            const response = await apiClient.post('users/refresh-token', { get_refreshToken });\r\n\r\n            const { accessToken, refreshToken: newRefreshToken } = response.data.data;\r\n\r\n            if (accessToken && newRefreshToken) {\r\n                setToken(accessToken); // Update access token\r\n                setRefreshToken(newRefreshToken); // Update refresh token\r\n            }\r\n\r\n            return accessToken; // Return the new access token\r\n        } catch (error) {\r\n            throw new Error('Token refresh failed. Please log in again.');\r\n        }\r\n    },\r\n};\r\n\r\n// **Product API**\r\nconst productApi = {\r\n    // Create a new product\r\n    createProduct: async (productData) => {\r\n        const response = await apiClient.post('products/', productData);\r\n        return response.data;\r\n    },\r\n\r\n    // Get all products\r\n    getProducts: async () => {\r\n        const response = await apiClient.get('products/');\r\n        return response.data.data;\r\n    },\r\n\r\n    // Get product details by slug\r\n    getProductDetail: async (slug) => {\r\n        const response = await apiClient.get(`products/${slug}`);\r\n        return response.data.data;\r\n    },\r\n\r\n    // Update product by slug\r\n    updateProduct: async (slug, productData) => {\r\n        const response = await apiClient.put(`products/${slug}`, productData);\r\n        return response.data;\r\n    },\r\n\r\n    // Delete product by slug\r\n    deleteProduct: async (slug) => {\r\n        const response = await apiClient.delete(`products/${slug}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Get products with pagination\r\n    getProductsByPagination: async (page, limit) => {\r\n        const response = await apiClient.get(`products/pagination?page=${page}&limit=${limit}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Get new products with pagination\r\n    getNewProductsByPagination: async (page, limit) => {\r\n        const response = await apiClient.get(`products/new?page=${page}&limit=${limit}`);\r\n        return response.data;\r\n    },\r\n\r\n    // Get featured products with pagination\r\n    getFeaturedProductsByPagination: async (page, limit) => {\r\n        const response = await apiClient.get(`products/featured?page=${page}&limit=${limit}`);\r\n        return response.data;\r\n    },\r\n};\r\n\r\n\r\nconst cartApi = {\r\n    // Tạo giỏ hàng cho khách\r\n    createCartForGuest: async (cartData) => {\r\n        try {\r\n            const response = await apiClient.post('carts/guest', cartData);\r\n            const { id } = response.data.data;\r\n            if (id) {\r\n                console.log('Cart ID:', id);\r\n                setCartId(id); // Lưu cart ID vào cookie hoặc storage\r\n            }\r\n\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to create cart for guest.';\r\n        }\r\n    },\r\n\r\n    // Tạo hoặc lấy giỏ hàng cho người dùng đã đăng nhập\r\n    createCartForUser: async () => {\r\n        try {\r\n            const response = await apiClient.post('carts/user');\r\n            const { id } = response.data.data;\r\n            if (id) {\r\n                console.log('Cart ID:', id);\r\n                setCartId(id); // Lưu cart ID vào cookie hoặc storage\r\n            }\r\n\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to create or retrieve cart for user.';\r\n        }\r\n    },\r\n\r\n    // Lấy chi tiết giỏ hàng theo ID\r\n    getCartById: async (cartId) => {\r\n        try {\r\n            const response = await apiClient.get(`carts/${cartId}`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to fetch cart details.';\r\n        }\r\n    },\r\n\r\n    // Thêm sản phẩm vào giỏ hàng\r\n    addItemToCart: async (cartId, itemData) => {\r\n        try {\r\n            const response = await apiClient.post(`carts/${cartId}/items`, itemData);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to add item to cart.';\r\n        }\r\n    },\r\n\r\n\r\n    // Xóa sản phẩm khỏi giỏ hàng\r\n    removeCartItem: async (itemId) => {\r\n        try {\r\n            const response = await apiClient.delete(`carts/items/${itemId}`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to remove item from cart.';\r\n        }\r\n    },\r\n\r\n    // Lấy tất cả sản phẩm trong giỏ hàng\r\n    getCartItems: async (cartId) => {\r\n        try {\r\n            const response = await apiClient.get(`carts/${cartId}/items`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to fetch cart items.';\r\n        }\r\n    },\r\n};\r\n\r\nconst reviewApi = {\r\n    // Tạo mới một review\r\n    createReview: async (reviewData) => {\r\n        try {\r\n            const response = await apiClient.post('reviews/', reviewData);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to create review.';\r\n        }\r\n    },\r\n\r\n    // Lấy danh sách review của một sản phẩm\r\n    getReviewsByProduct: async (productId, page, limit) => {\r\n        try {\r\n            const response = await apiClient.get(`reviews/product/${productId}?page=${page}&limit=${limit}`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to fetch reviews.';\r\n        }\r\n    },\r\n\r\n    // Lấy điểm trung bình của một sản phẩm\r\n    getAverageRating: async (productId) => {\r\n        try {\r\n            const response = await apiClient.get(`reviews/product/${productId}/average-rating`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to fetch average rating.';\r\n        }\r\n    },\r\n\r\n    // Xóa một review\r\n    deleteReview: async (reviewId) => {\r\n        try {\r\n            const response = await apiClient.delete(`reviews/${reviewId}`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to delete review.';\r\n        }\r\n    },\r\n};\r\n\r\nconst productsByCategoryApi = {\r\n    // Lấy tất cả sản phẩm theo danh mục\r\n    getProductsByCategory: async (categoryId, page, limit) => {\r\n        try {\r\n            const response = await apiClient.get(`products-by-category/${categoryId}?page=${page}&limit=${limit}`);\r\n            return response.data;\r\n        } catch (error) {\r\n            throw error.response?.data || 'Failed to fetch products by category.';\r\n        }\r\n    },\r\n};\r\n\r\nexport { apiClient, userApi, productApi, cartApi, reviewApi, productsByCategoryApi };\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 503, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 510, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/store/slices/userSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { userApi } from '../../utils/apiClient.js';\r\n\r\n// Async actions\r\nexport const registerUser = createAsyncThunk(\r\n    'auth/registerUser',\r\n    async (userData, { rejectWithValue }) => {\r\n        try {\r\n            const response = await userApi.register(userData);\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || error.message);\r\n        }\r\n    }\r\n);\r\n\r\nexport const verifyOtp = createAsyncThunk(\r\n    'auth/verifyOtp',\r\n    async (otpData, { rejectWithValue }) => {\r\n        try {\r\n            const response = await userApi.verifyOtp(otpData);\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || error.message);\r\n        }\r\n    }\r\n);\r\n\r\nexport const loginUser = createAsyncThunk(\r\n    'auth/loginUser',\r\n    async (credentials, { rejectWithValue }) => {\r\n        try {\r\n            const response = await userApi.login(credentials);\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || error.message);\r\n        }\r\n    }\r\n);\r\n\r\nexport const logoutUser = createAsyncThunk(\r\n    'auth/logoutUser',\r\n    async (_, { rejectWithValue }) => {\r\n        try {\r\n            await userApi.logout();\r\n            return true;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || error.message);\r\n        }\r\n    }\r\n);\r\n\r\nexport const getUserInfo = createAsyncThunk(\r\n    'auth/getUserInfo',\r\n    async (_, { rejectWithValue }) => {\r\n        try {\r\n            const response = await userApi.getUserProfile(); // Use getUserProfile instead of getUser\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || error.message);\r\n        }\r\n    }\r\n);\r\n\r\n\r\n// Slice\r\nconst userSlice = createSlice({\r\n    name: 'auth',\r\n    initialState: {\r\n        user: null,\r\n        token: null,\r\n        loading: false,\r\n        error: null,\r\n    },\r\n    reducers: {\r\n        resetAuthState: (state) => {\r\n            state.user = null;\r\n            state.token = null;\r\n            state.loading = false;\r\n            state.error = null;\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        // Register\r\n        builder.addCase(registerUser.pending, (state) => {\r\n            state.loading = true;\r\n            state.error = null;\r\n        });\r\n        builder.addCase(registerUser.fulfilled, (state, action) => {\r\n            state.loading = false;\r\n            state.user = action.payload.user;\r\n        });\r\n        builder.addCase(registerUser.rejected, (state, action) => {\r\n            state.loading = false;\r\n            state.error = action.payload;\r\n        });\r\n        // Verify OTP\r\n        builder.addCase(verifyOtp.pending, (state) => {\r\n            state.loading = true;\r\n            state.error = null;\r\n        });\r\n        builder.addCase(verifyOtp.fulfilled, (state, action) => {\r\n            state.loading = false;\r\n            state.user = action.payload.user;\r\n        });\r\n        builder.addCase(verifyOtp.rejected, (state, action) => {\r\n            state.loading = false;\r\n            state.error = action.payload;\r\n        });\r\n\r\n        // Login\r\n        builder.addCase(loginUser.pending, (state) => {\r\n            state.loading = true;\r\n            state.error = null;\r\n        });\r\n        builder.addCase(loginUser.fulfilled, (state, action) => {\r\n            state.loading = false;\r\n            state.user = action.payload.user;\r\n            state.token = action.payload.accessToken; // Đảm bảo tên thuộc tính đúng\r\n        });\r\n        builder.addCase(loginUser.rejected, (state, action) => {\r\n            state.loading = false;\r\n            state.error = action.payload;\r\n        });\r\n\r\n        // Logout\r\n        builder.addCase(logoutUser.pending, (state) => {\r\n            state.loading = true;\r\n        });\r\n        builder.addCase(logoutUser.fulfilled, (state) => {\r\n            state.user = null;\r\n            state.token = null;\r\n            state.loading = false;\r\n        });\r\n        builder.addCase(logoutUser.rejected, (state, action) => {\r\n            state.loading = false;\r\n            state.error = action.payload;\r\n        });\r\n\r\n        // Get User Info\r\n        builder.addCase(getUserInfo.pending, (state) => {\r\n            state.loading = true;\r\n            state.error = null;\r\n        });\r\n        builder.addCase(getUserInfo.fulfilled, (state, action) => {\r\n            state.loading = false;\r\n            state.user = action.payload;\r\n        });\r\n        builder.addCase(getUserInfo.rejected, (state, action) => {\r\n            state.loading = false;\r\n            state.error = action.payload;\r\n        });\r\n    },\r\n});\r\n\r\n// Export actions và reducer\r\nexport const { resetAuthState } = userSlice.actions;\r\nexport default userSlice.reducer;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 656, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 663, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/store/slices/productSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { productApi } from '../../utils/apiClient'; // Import API client\r\n\r\n// **Async Actions**\r\n\r\n// Fetch all products\r\nexport const fetchProducts = createAsyncThunk(\r\n    'products/fetchProducts',\r\n    async (_, { rejectWithValue }) => {\r\n        try {\r\n            const products = await productApi.getProducts();\r\n            return products;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || 'Failed to fetch products');\r\n        }\r\n    }\r\n);\r\n\r\n// Fetch products with pagination\r\nexport const fetchProductsByPagination = createAsyncThunk(\r\n    'products/fetchProductsByPagination',\r\n    async ({ page, limit }, { rejectWithValue }) => {\r\n        try {\r\n            const paginatedProducts = await productApi.getProductsByPagination(page, limit);\r\n            return paginatedProducts;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || 'Failed to fetch products with pagination');\r\n        }\r\n    }\r\n);\r\n\r\n// Fetch new products with pagination\r\nexport const fetchNewProductsByPagination = createAsyncThunk(\r\n    'products/fetchNewProductsByPagination',\r\n    async ({ page, limit }, { rejectWithValue }) => {\r\n        try {\r\n            const newProducts = await productApi.getNewProductsByPagination(page, limit);\r\n            return newProducts;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || 'Failed to fetch new products');\r\n        }\r\n    }\r\n);\r\n\r\n// Fetch featured products with pagination\r\nexport const fetchFeaturedProductsByPagination = createAsyncThunk(\r\n    'products/fetchFeaturedProductsByPagination',\r\n    async ({ page, limit }, { rejectWithValue }) => {\r\n        try {\r\n            const featuredProducts = await productApi.getFeaturedProductsByPagination(page, limit);\r\n            return featuredProducts;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || 'Failed to fetch featured products');\r\n        }\r\n    }\r\n);\r\n\r\n// Fetch product details\r\nexport const fetchProductDetail = createAsyncThunk(\r\n    'products/fetchProductDetail',\r\n    async (slug, { rejectWithValue }) => {\r\n        try {\r\n            const product = await productApi.getProductDetail(slug);\r\n            return product;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || 'Failed to fetch product details');\r\n        }\r\n    }\r\n);\r\n\r\n// Create a new product\r\nexport const createProduct = createAsyncThunk(\r\n    'products/createProduct',\r\n    async (productData, { rejectWithValue }) => {\r\n        try {\r\n            const newProduct = await productApi.createProduct(productData);\r\n            return newProduct;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || 'Failed to create product');\r\n        }\r\n    }\r\n);\r\n\r\n// Update a product\r\nexport const updateProduct = createAsyncThunk(\r\n    'products/updateProduct',\r\n    async ({ slug, productData }, { rejectWithValue }) => {\r\n        try {\r\n            const updatedProduct = await productApi.updateProduct(slug, productData);\r\n            return updatedProduct;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || 'Failed to update product');\r\n        }\r\n    }\r\n);\r\n\r\n// Delete a product\r\nexport const deleteProduct = createAsyncThunk(\r\n    'products/deleteProduct',\r\n    async (slug, { rejectWithValue }) => {\r\n        try {\r\n            const result = await productApi.deleteProduct(slug);\r\n            return result;\r\n        } catch (error) {\r\n            return rejectWithValue(error.response?.data || 'Failed to delete product');\r\n        }\r\n    }\r\n);\r\n\r\n// **Slice**\r\nconst productSlice = createSlice({\r\n    name: 'products',\r\n    initialState: {\r\n        newProducts: {\r\n            items: [], // All new products\r\n            pagination: {\r\n                totalItems: 0,\r\n                totalPages: 0,\r\n                currentPage: 1,\r\n                pageSize: 10,\r\n            },\r\n        },\r\n        visibleNewProducts: [], // New products visible on the index page\r\n        featuredProducts: {\r\n            items: [], // All featured products\r\n            pagination: {\r\n                totalItems: 0,\r\n                totalPages: 0,\r\n                currentPage: 1,\r\n                pageSize: 10,\r\n            },\r\n        },\r\n        visibleFeaturedProducts: [], // Featured products visible on the index page\r\n        loading: false,\r\n        error: null,\r\n    },\r\n    reducers: {\r\n        // Set visible products for index page\r\n        setVisibleNewProducts: (state, action) => {\r\n            state.visibleNewProducts = action.payload;\r\n        },\r\n        setVisibleFeaturedProducts: (state, action) => {\r\n            state.visibleFeaturedProducts = action.payload;\r\n        },\r\n        // Clear product state\r\n        clearProductState: (state) => {\r\n            state.newProducts = {\r\n                items: [],\r\n                pagination: {\r\n                    totalItems: 0,\r\n                    totalPages: 0,\r\n                    currentPage: 1,\r\n                    pageSize: 10,\r\n                },\r\n            };\r\n            state.visibleNewProducts = [];\r\n            state.featuredProducts = {\r\n                items: [],\r\n                pagination: {\r\n                    totalItems: 0,\r\n                    totalPages: 0,\r\n                    currentPage: 1,\r\n                    pageSize: 10,\r\n                },\r\n            };\r\n            state.visibleFeaturedProducts = [];\r\n            state.loading = false;\r\n            state.error = null;\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        // Fetch all products\r\n        builder\r\n            .addCase(fetchProducts.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchProducts.fulfilled, (state, action) => {\r\n                state.items = action.payload;\r\n                state.loading = false;\r\n            })\r\n            .addCase(fetchProducts.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n                state.loading = false;\r\n            });\r\n\r\n        // Fetch products with pagination\r\n        builder\r\n            .addCase(fetchProductsByPagination.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchProductsByPagination.fulfilled, (state, action) => {\r\n                const { products, pagination } = action.payload.data;\r\n                state.pagination = {\r\n                    items: products || [],\r\n                    totalItems: pagination.totalItems || 0,\r\n                    totalPages: pagination.totalPages || 0,\r\n                    currentPage: pagination.currentPage || 1,\r\n                    pageSize: pagination.pageSize || 10,\r\n                };\r\n                state.loading = false;\r\n            })\r\n            .addCase(fetchProductsByPagination.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n                state.loading = false;\r\n            });\r\n\r\n        // Fetch new products with pagination\r\n        builder\r\n            .addCase(fetchNewProductsByPagination.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchNewProductsByPagination.fulfilled, (state, action) => {\r\n                const { products, pagination } = action.payload.data;\r\n\r\n                // Filter out duplicate products\r\n                const uniqueProducts = products.filter(\r\n                    (product) => !state.newProducts.items.some((existing) => existing.id === product.id)\r\n                );\r\n\r\n                // Append only unique products\r\n                state.newProducts.items = [...state.newProducts.items, ...uniqueProducts];\r\n                state.newProducts.pagination = {\r\n                    totalItems: pagination.totalItems || 0,\r\n                    totalPages: pagination.totalPages || 0,\r\n                    currentPage: pagination.currentPage || 1,\r\n                    pageSize: pagination.pageSize || 10,\r\n                };\r\n\r\n                // Update visible products\r\n                state.visibleNewProducts = state.newProducts.items.slice(0, state.newProducts.pagination.pageSize);\r\n\r\n                state.loading = false;\r\n            })\r\n            .addCase(fetchNewProductsByPagination.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n                state.loading = false;\r\n            });\r\n\r\n        // Fetch featured products with pagination\r\n        builder\r\n            .addCase(fetchFeaturedProductsByPagination.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchFeaturedProductsByPagination.fulfilled, (state, action) => {\r\n                const { products, pagination } = action.payload.data;\r\n\r\n                // Filter out duplicate products\r\n                const uniqueProducts = products.filter(\r\n                    (product) => !state.featuredProducts.items.some((existing) => existing.id === product.id)\r\n                );\r\n\r\n                // Append only unique products\r\n                state.featuredProducts.items = [...state.featuredProducts.items, ...uniqueProducts];\r\n                state.featuredProducts.pagination = {\r\n                    totalItems: pagination.totalItems || 0,\r\n                    totalPages: pagination.totalPages || 0,\r\n                    currentPage: pagination.currentPage || 1,\r\n                    pageSize: pagination.pageSize || 10,\r\n                };\r\n\r\n                // Update visible products\r\n                state.visibleFeaturedProducts = state.featuredProducts.items.slice(0, state.featuredProducts.pagination.pageSize);\r\n\r\n                state.loading = false;\r\n            })\r\n            .addCase(fetchFeaturedProductsByPagination.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n                state.loading = false;\r\n            });\r\n        // Fetch product details\r\n        builder\r\n            .addCase(fetchProductDetail.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchProductDetail.fulfilled, (state, action) => {\r\n                state.currentProduct = action.payload;\r\n                state.loading = false;\r\n            })\r\n            .addCase(fetchProductDetail.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n                state.loading = false;\r\n            });\r\n\r\n        // Create product\r\n        builder\r\n            .addCase(createProduct.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(createProduct.fulfilled, (state, action) => {\r\n                state.items.push(action.payload);\r\n                state.loading = false;\r\n            })\r\n            .addCase(createProduct.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n                state.loading = false;\r\n            });\r\n\r\n        // Update product\r\n        builder\r\n            .addCase(updateProduct.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(updateProduct.fulfilled, (state, action) => {\r\n                const index = state.items.findIndex((item) => item.slug === action.payload.slug);\r\n                if (index !== -1) {\r\n                    state.items[index] = action.payload;\r\n                }\r\n                state.loading = false;\r\n            })\r\n            .addCase(updateProduct.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n                state.loading = false;\r\n            });\r\n\r\n        // Delete product\r\n        builder\r\n            .addCase(deleteProduct.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(deleteProduct.fulfilled, (state, action) => {\r\n                state.items = state.items.filter((item) => item.slug !== action.meta.arg);\r\n                state.loading = false;\r\n            })\r\n            .addCase(deleteProduct.rejected, (state, action) => {\r\n                state.error = action.payload;\r\n                state.loading = false;\r\n            });\r\n    },\r\n});\r\n\r\nexport const { setVisibleNewProducts, setVisibleFeaturedProducts, clearProductState } = productSlice.actions;\r\nexport default productSlice.reducer;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 944, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 951, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/store/slices/cartSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { cartApi } from '../../utils/apiClient';;\r\n\r\n// **Async thunks**\r\n\r\n// Tạo giỏ hàng cho khách\r\nexport const createCartForGuest = createAsyncThunk(\r\n    'cart/createCartForGuest',\r\n    async (cartData, { rejectWithValue }) => {\r\n        try {\r\n            const response = await cartApi.createCartForGuest(cartData);\r\n            return response.data;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    }\r\n);\r\n\r\n// Tạo hoặc lấy giỏ hàng cho người dùng đã đăng nhập\r\nexport const createCartForUser = createAsyncThunk(\r\n    'cart/createCartForUser',\r\n    async (_, { rejectWithValue }) => {\r\n        try {\r\n            const response = await cartApi.createCartForUser();\r\n            return response.data;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    }\r\n);\r\n\r\n// Lấy chi tiết giỏ hàng theo ID\r\nexport const getCartById = createAsyncThunk(\r\n    'cart/getCartById',\r\n    async (cartId, { rejectWithValue }) => {\r\n        try {\r\n            const response = await cartApi.getCartById(cartId);\r\n            return response.data;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    }\r\n);\r\n\r\n// Thêm sản phẩm vào giỏ hàng\r\nexport const addItemToCart = createAsyncThunk(\r\n    'cart/addItemToCart',\r\n    async ({ cartId, itemData }, { rejectWithValue }) => {\r\n        try {\r\n            const response = await cartApi.addItemToCart(cartId, itemData);\r\n            return response.data;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    }\r\n);\r\n\r\n    \r\n\r\n// Xóa sản phẩm khỏi giỏ hàng\r\nexport const removeCartItem = createAsyncThunk(\r\n    'cart/removeCartItem',\r\n    async (itemId, { rejectWithValue }) => {\r\n        try {\r\n            const response = await cartApi.removeCartItem(itemId);\r\n            return response;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    }\r\n);\r\n\r\n// Lấy tất cả sản phẩm trong giỏ hàng\r\nexport const getCartItems = createAsyncThunk(\r\n    'cart/getCartItems',\r\n    async (cartId, { rejectWithValue }) => {\r\n        try {\r\n            const response = await cartApi.getCartItems(cartId);\r\n            return response.data; // Lấy phần `data` từ kết quả API\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    }\r\n);\r\n\r\n// **Slice**\r\nconst cartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState: {\r\n        cart: null,\r\n        items: [],\r\n        loading: false,\r\n        error: null,\r\n    },\r\n    reducers: {\r\n        resetCartState: (state) => {\r\n            state.cart = null;\r\n            state.items = [];\r\n            state.loading = false;\r\n            state.error = null;\r\n        },\r\n    },\r\n    extraReducers: (builder) => {\r\n        builder\r\n            // Create cart for guest\r\n            .addCase(createCartForGuest.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(createCartForGuest.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                state.cart = action.payload;\r\n            })\r\n            .addCase(createCartForGuest.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.error = action.payload;\r\n            })\r\n\r\n            // Create or retrieve cart for user\r\n            .addCase(createCartForUser.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(createCartForUser.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                state.cart = action.payload;\r\n            })\r\n            .addCase(createCartForUser.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.error = action.payload;\r\n            })\r\n\r\n            // Get cart by ID\r\n            .addCase(getCartById.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(getCartById.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                state.cart = action.payload;\r\n            })\r\n            .addCase(getCartById.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.error = action.payload;\r\n            })\r\n\r\n            // Add item to cart\r\n            .addCase(addItemToCart.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(addItemToCart.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                state.items.push(action.payload);\r\n            })\r\n            .addCase(addItemToCart.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.error = action.payload;\r\n            })\r\n\r\n            // Remove item from cart\r\n            .addCase(removeCartItem.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(removeCartItem.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                state.items = state.items.filter((item) => item.id !== action.meta.arg);\r\n            })\r\n            .addCase(removeCartItem.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.error = action.payload;\r\n            })\r\n\r\n            // Get cart items\r\n            .addCase(getCartItems.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(getCartItems.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                state.items = action.payload;\r\n            })\r\n            .addCase(getCartItems.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.error = action.payload;\r\n            });\r\n    },\r\n});\r\n\r\n// Export actions and reducer\r\nexport const { resetCartState } = cartSlice.actions;\r\nexport default cartSlice.reducer;"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1102, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1109, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/store/slices/reviewsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { reviewApi } from '../../utils/apiClient';\r\n\r\n// Async thunks for API calls\r\n// Async thunk for fetching reviews with pagination\r\nexport const fetchReviewsByProduct = createAsyncThunk(\r\n    'reviews/fetchReviewsByProduct',\r\n    async ({ productId, page, limit }, thunkAPI) => {\r\n        try {\r\n            // API call to fetch paginated reviews\r\n            const response = await reviewApi.getReviewsByProduct(productId, page, limit);\r\n\r\n            // Ensure response matches the structure from `getProductReviewsHandler`\r\n            if (response.status === 'success') {\r\n                return {\r\n                    reviews: response.data,\r\n                    meta: response.meta,\r\n                };\r\n            } else {\r\n                throw new Error('Unexpected API response');\r\n            }\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(\r\n                error.response?.data?.message || 'Failed to fetch reviews'\r\n            );\r\n        }\r\n    }\r\n);\r\n\r\nexport const fetchAverageRating = createAsyncThunk(\r\n    'reviews/fetchAverageRating',\r\n    async (productId, thunkAPI) => {\r\n        try {\r\n            const response = await reviewApi.getAverageRating(productId);\r\n\r\n            if (response.status === 'success' && response.data?.averageRating) {\r\n                return {\r\n                    averageRating: parseFloat(response.data.averageRating.averageRating) || 0,\r\n                    totalReviews: parseInt(response.data.averageRating.totalReviews, 10) || 0,\r\n                };\r\n            } else {\r\n                throw new Error('Invalid API response structure');\r\n            }\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(\r\n                error.response?.data?.message || 'Failed to fetch average rating'\r\n            );\r\n        }\r\n    }\r\n);\r\n\r\n\r\nexport const createReview = createAsyncThunk(\r\n    'reviews/createReview',\r\n    async (reviewData, thunkAPI) => {\r\n        try {\r\n            const response = await reviewApi.createReview(reviewData);\r\n            return response.data;\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(error.response?.data || 'Failed to create review');\r\n        }\r\n    }\r\n);\r\n\r\nexport const deleteReview = createAsyncThunk(\r\n    'reviews/deleteReview',\r\n    async (reviewId, thunkAPI) => {\r\n        try {\r\n            const response = await reviewApi.deleteReview(reviewId);\r\n            return response.data;\r\n        } catch (error) {\r\n            return thunkAPI.rejectWithValue(error.response?.data || 'Failed to delete review');\r\n        }\r\n    }\r\n);\r\n\r\n// Initial state\r\nconst initialState = {\r\n    reviews: [],\r\n    averageRating: 0,\r\n    isLoading: false,\r\n    error: null,\r\n    pagination: {\r\n        totalReviews: 0,\r\n        totalPages: 1,\r\n        currentPage: 1,\r\n    },\r\n};\r\n\r\n// Reviews slice\r\nconst reviewsSlice = createSlice({\r\n    name: 'reviews',\r\n    initialState,\r\n    reducers: {},\r\n    extraReducers: (builder) => {\r\n        // Handle `fetchReviewsByProduct`\r\n        builder\r\n            .addCase(fetchReviewsByProduct.pending, (state) => {\r\n                state.isLoading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchReviewsByProduct.fulfilled, (state, action) => {\r\n                state.isLoading = false;\r\n                state.reviews = action.payload.reviews || [];\r\n                state.pagination = {\r\n                    totalReviews: action.payload.meta?.totalReviews || 0,\r\n                    totalPages: action.payload.meta?.totalPages || 1,\r\n                    currentPage: action.payload.meta?.currentPage || 1,\r\n                };\r\n            })\r\n            .addCase(fetchReviewsByProduct.rejected, (state, action) => {\r\n                state.isLoading = false;\r\n                state.error = action.payload;\r\n            });\r\n\r\n        // Fetch average rating\r\n        builder\r\n            .addCase(fetchAverageRating.pending, (state) => {\r\n                state.isLoading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchAverageRating.fulfilled, (state, action) => {\r\n                state.isLoading = false;\r\n                state.averageRating = action.payload?.averageRating || 0;\r\n                state.pagination.totalReviews = action.payload?.totalReviews || 0;\r\n            })\r\n            .addCase(fetchAverageRating.rejected, (state, action) => {\r\n                state.isLoading = false;\r\n                state.error = action.payload;\r\n            });\r\n        // Create review\r\n        builder\r\n            .addCase(createReview.pending, (state) => {\r\n                state.isLoading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(createReview.fulfilled, (state, action) => {\r\n                state.isLoading = false;\r\n                state.reviews.unshift(action.payload);\r\n                state.pagination.totalReviews += 1;\r\n                if (state.reviews.length > 10) {\r\n                    state.reviews.pop(); // Ensure review list doesn't grow beyond the limit\r\n                }\r\n            })\r\n            .addCase(createReview.rejected, (state, action) => {\r\n                state.isLoading = false;\r\n                state.error = action.payload;\r\n            });\r\n\r\n        // Delete review\r\n        builder\r\n            .addCase(deleteReview.pending, (state) => {\r\n                state.isLoading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(deleteReview.fulfilled, (state, action) => {\r\n                state.isLoading = false;\r\n                state.reviews = state.reviews.filter((review) => review.id !== action.meta.arg);\r\n                state.pagination.totalReviews = Math.max(0, state.pagination.totalReviews - 1);\r\n            })\r\n            .addCase(deleteReview.rejected, (state, action) => {\r\n                state.isLoading = false;\r\n                state.error = action.payload;\r\n            });\r\n    },\r\n});\r\n\r\nexport default reviewsSlice.reducer;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1249, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1256, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/store/slices/productsByCategorySlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\r\nimport { productsByCategoryApi } from '../../utils/apiClient';\r\n\r\nexport const fetchProductsByCategory = createAsyncThunk(\r\n    'productsByCategory/fetchProductsByCategory',\r\n    async ({ categoryId, page, limit }, { rejectWithValue }) => {\r\n        try {\r\n            const data = await productsByCategoryApi.getProductsByCategory(categoryId, page, limit);\r\n            return data;\r\n        } catch (error) {\r\n            return rejectWithValue(error);\r\n        }\r\n    }\r\n);\r\n\r\nconst productsByCategorySlice = createSlice({\r\n    name: 'productsByCategory',\r\n    initialState: {\r\n        products: [], // Danh sách sản phẩm\r\n        totalPages: 0,\r\n        loading: false,\r\n        error: null,\r\n    },\r\n    reducers: {},\r\n    extraReducers: (builder) => {\r\n        builder\r\n            .addCase(fetchProductsByCategory.pending, (state) => {\r\n                state.loading = true;\r\n                state.error = null;\r\n            })\r\n            .addCase(fetchProductsByCategory.fulfilled, (state, action) => {\r\n                state.loading = false;\r\n                const { products, totalPages } = action.payload.data;\r\n\r\n                if (action.meta.arg.page > 1) {\r\n                    // Nối sản phẩm nếu không phải trang đầu tiên\r\n                    state.products = [...state.products, ...products];\r\n                } else {\r\n                    // Ghi đè sản phẩm nếu là trang đầu tiên\r\n                    state.products = products;\r\n                }\r\n\r\n                state.totalPages = totalPages;\r\n            })\r\n            .addCase(fetchProductsByCategory.rejected, (state, action) => {\r\n                state.loading = false;\r\n                state.error = action.payload || 'Failed to fetch products by category';\r\n            });\r\n    },\r\n});\r\n\r\nexport default productsByCategorySlice.reducer;\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;;AAEO,MAAM,0BAA0B,CAAA,GAAA,wIAAA,CAAA,mBAAgB,AAAD,EAClD,8CACA,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,KAAK,EAAE,EAAE,EAAE,eAAe,EAAE;IACnD,IAAI;QACA,MAAM,OAAO,MAAM,kHAAA,CAAA,wBAAqB,CAAC,qBAAqB,CAAC,YAAY,MAAM;QACjF,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,OAAO,gBAAgB;IAC3B;AACJ;AAGJ,MAAM,0BAA0B,CAAA,GAAA,wIAAA,CAAA,cAAW,AAAD,EAAE;IACxC,MAAM;IACN,cAAc;QACV,UAAU,EAAE;QACZ,YAAY;QACZ,SAAS;QACT,OAAO;IACX;IACA,UAAU,CAAC;IACX,eAAe,CAAC;QACZ,QACK,OAAO,CAAC,wBAAwB,OAAO,EAAE,CAAC;YACvC,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG;QAClB,GACC,OAAO,CAAC,wBAAwB,SAAS,EAAE,CAAC,OAAO;YAChD,MAAM,OAAO,GAAG;YAChB,MAAM,EAAE,QAAQ,EAAE,UAAU,EAAE,GAAG,OAAO,OAAO,CAAC,IAAI;YAEpD,IAAI,OAAO,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,GAAG;gBAC1B,6CAA6C;gBAC7C,MAAM,QAAQ,GAAG;uBAAI,MAAM,QAAQ;uBAAK;iBAAS;YACrD,OAAO;gBACH,wCAAwC;gBACxC,MAAM,QAAQ,GAAG;YACrB;YAEA,MAAM,UAAU,GAAG;QACvB,GACC,OAAO,CAAC,wBAAwB,QAAQ,EAAE,CAAC,OAAO;YAC/C,MAAM,OAAO,GAAG;YAChB,MAAM,KAAK,GAAG,OAAO,OAAO,IAAI;QACpC;IACR;AACJ;uCAEe,wBAAwB,OAAO"}},
    {"offset": {"line": 1311, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1318, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/store/index.js"],"sourcesContent":["import { configureStore } from '@reduxjs/toolkit';\r\nimport authReducer from '../store/slices/userSlice';\r\nimport productReducer from '../store/slices/productSlice';\r\nimport cartReducer from '../store/slices/cartSlice';\r\nimport reviewsReducer from '../store/slices/reviewsSlice';  \r\nimport productsByCategoryReducer from '../store/slices/productsByCategorySlice';\r\n\r\nconst store = configureStore({\r\n    reducer: {\r\n        auth: authReducer,\r\n        products: productReducer,\r\n        cart: cartReducer,\r\n        reviews: reviewsReducer,\r\n        productsByCategory: productsByCategoryReducer,\r\n    },\r\n});\r\n\r\nexport default store;\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;AAEA,MAAM,QAAQ,CAAA,GAAA,wIAAA,CAAA,iBAAc,AAAD,EAAE;IACzB,SAAS;QACL,MAAM,4HAAA,CAAA,UAAW;QACjB,UAAU,+HAAA,CAAA,UAAc;QACxB,MAAM,4HAAA,CAAA,UAAW;QACjB,SAAS,+HAAA,CAAA,UAAc;QACvB,oBAAoB,0IAAA,CAAA,UAAyB;IACjD;AACJ;uCAEe"}},
    {"offset": {"line": 1352, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1359, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/pages/_app.js"],"sourcesContent":["import { Provider } from 'react-redux';\r\nimport store from '../store'; \r\nimport '../styles/globals.css';\r\n\r\n\r\nexport default function App({ Component, pageProps }) {\r\n    return (\r\n        <Provider store={store}>\r\n            <Component {...pageProps} />\r\n        </Provider>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;;;;;;;AAIe,SAAS,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE;IAChD,qBACI,qKAAC,4HAAA,CAAA,WAAQ;QAAC,OAAO,8GAAA,CAAA,UAAK;kBAClB,cAAA,qKAAC;YAAW,GAAG,SAAS;;;;;;;;;;;AAGpC"}},
    {"offset": {"line": 1390, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1429, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/components/Sidebar.js"],"sourcesContent":["export default function Sidebar() {\r\n    const categories = [\r\n        { id: 1, name: 'Áo Thun' },\r\n        { id: 2, name: 'Quần Jeans' },\r\n        { id: 3, name: 'Váy' },\r\n        { id: 4, name: 'Áo Khoác' },\r\n        { id: 5, name: 'Phụ Kiện' },\r\n    ];\r\n\r\n    return (\r\n        <aside className=\"p-6\">\r\n            <h3 className=\"text-lg font-bold mb-4\">Danh mục</h3>\r\n            <ul className=\"space-y-4\">\r\n                {categories.map((category) => (\r\n                    <li key={category.id}>\r\n                        <a\r\n                            href={`/category/productsByCategory?categoryId=${category.id}&categoryName=${category.name}`}\r\n                            className=\"hover:underline block\"\r\n                        >\r\n                            {category.name}\r\n                        </a>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </aside>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACpB,MAAM,aAAa;QACf;YAAE,IAAI;YAAG,MAAM;QAAU;QACzB;YAAE,IAAI;YAAG,MAAM;QAAa;QAC5B;YAAE,IAAI;YAAG,MAAM;QAAM;QACrB;YAAE,IAAI;YAAG,MAAM;QAAW;QAC1B;YAAE,IAAI;YAAG,MAAM;QAAW;KAC7B;IAED,qBACI,qKAAC;QAAM,WAAU;;0BACb,qKAAC;gBAAG,WAAU;0BAAyB;;;;;;0BACvC,qKAAC;gBAAG,WAAU;0BACT,WAAW,GAAG,CAAC,CAAC,yBACb,qKAAC;kCACG,cAAA,qKAAC;4BACG,MAAM,CAAC,wCAAwC,EAAE,SAAS,EAAE,CAAC,cAAc,EAAE,SAAS,IAAI,EAAE;4BAC5F,WAAU;sCAET,SAAS,IAAI;;;;;;uBALb,SAAS,EAAE;;;;;;;;;;;;;;;;AAYxC"}},
    {"offset": {"line": 1497, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1503, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/components/Header.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Link from 'next/link';\r\nimport Sidebar from './Sidebar';\r\n\r\nexport default function Header() {\r\n    const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n\r\n    const toggleDrawer = () => {\r\n        setIsDrawerOpen(!isDrawerOpen);\r\n    };\r\n\r\n    // Close Drawer Sidebar on resize when moving to desktop size\r\n    useEffect(() => {\r\n        const handleResize = () => {\r\n            if (window.innerWidth >= 768) {\r\n                setIsDrawerOpen(false); // Close the Drawer Sidebar\r\n            }\r\n        };\r\n\r\n        window.addEventListener('resize', handleResize);\r\n\r\n        return () => {\r\n            window.removeEventListener('resize', handleResize);\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <header className=\"bg-blue-600 text-white p-4 shadow\">\r\n                <div className=\"container mx-auto flex justify-between items-center\">\r\n                    {/* Drawer Toggle Button for Sidebar */}\r\n                    <button\r\n                        className=\"md:hidden block focus:outline-none mr-4\"\r\n                        onClick={toggleDrawer}\r\n                    >\r\n                        <svg\r\n                            className=\"w-6 h-6\"\r\n                            fill=\"none\"\r\n                            stroke=\"currentColor\"\r\n                            viewBox=\"0 0 24 24\"\r\n                            xmlns=\"http://www.w3.org/2000/svg\"\r\n                        >\r\n                            <path\r\n                                strokeLinecap=\"round\"\r\n                                strokeLinejoin=\"round\"\r\n                                strokeWidth={2}\r\n                                d=\"M4 6h16M4 12h16m-7 6h7\"\r\n                            />\r\n                        </svg>\r\n                    </button>\r\n\r\n                    {/* Logo */}\r\n                    <Link href=\"/\" className=\"text-2xl font-bold flex-shrink-0\">\r\n                        Fashion Store\r\n                    </Link>\r\n\r\n                    {/* Navigation Links */}\r\n                    <nav className=\"hidden md:flex space-x-6 ml-auto\">\r\n                        <Link href=\"/store-locations\" className=\"hover:underline\">\r\n                            Hệ thống cửa hàng\r\n                        </Link>\r\n                        <Link href=\"/user-guide\" className=\"hover:underline\">\r\n                            Hướng dẫn sử dụng\r\n                        </Link>\r\n                        <Link href=\"/warranty-policy\" className=\"hover:underline\">\r\n                            Chính sách bảo hành\r\n                        </Link>\r\n                    </nav>\r\n\r\n                    {/* Navigation Icons */}\r\n                    <nav className=\"flex space-x-6 md:ml-auto\">\r\n                        <ul className=\"flex space-x-4 items-center\">\r\n                            {/* Search Icon */}\r\n                            <li>\r\n                                <Link href=\"/search\" className=\"hover:underline\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        className=\"h-6 w-6\"\r\n                                        fill=\"none\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        stroke=\"currentColor\"\r\n                                        strokeWidth={2}\r\n                                    >\r\n                                        <path\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                            d=\"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z\"\r\n                                        />\r\n                                    </svg>\r\n                                </Link>\r\n                            </li>\r\n\r\n                            {/* User Icon */}\r\n                            <li>\r\n                                <Link href=\"/account/profile\" className=\"hover:underline\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        className=\"h-6 w-6\"\r\n                                        fill=\"currentColor\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                    >\r\n                                        <path\r\n                                            d=\"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-6 7c0-3.31 2.69-6 6-6s6 2.69 6 6H6z\"\r\n                                        />\r\n                                    </svg>\r\n                                </Link>\r\n                            </li>\r\n\r\n                            {/* Cart Icon */}\r\n                            <li>\r\n                                <Link href=\"/cart\" className=\"hover:underline\">\r\n                                    <svg\r\n                                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                                        className=\"h-6 w-6\"\r\n                                        fill=\"none\"\r\n                                        viewBox=\"0 0 24 24\"\r\n                                        stroke=\"currentColor\"\r\n                                        strokeWidth={2}\r\n                                    >\r\n                                        <path\r\n                                            strokeLinecap=\"round\"\r\n                                            strokeLinejoin=\"round\"\r\n                                            d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-1.5 6m12.5-6l1.5 6m-10-1h8\"\r\n                                        />\r\n                                    </svg>\r\n                                </Link>\r\n                            </li>\r\n                        </ul>\r\n                    </nav>\r\n                </div>\r\n            </header>\r\n\r\n            {/* Drawer Sidebar */}\r\n            <div\r\n                className={`fixed inset-0 z-50 bg-gray-800 bg-opacity-50 transition-opacity duration-300 ${isDrawerOpen ? 'opacity-100 visible' : 'opacity-0 invisible'\r\n                    }`}\r\n                onClick={toggleDrawer}\r\n            ></div>\r\n            <div\r\n                className={`fixed top-0 left-0 w-64 h-full bg-white shadow-lg z-50 transform transition-transform duration-300 ${isDrawerOpen ? 'translate-x-0' : '-translate-x-full'\r\n                    }`}\r\n            >\r\n                {/* Close Button */}\r\n                <button\r\n                    className=\"absolute top-4 right-4 text-blue-600 focus:outline-none\"\r\n                    onClick={toggleDrawer}\r\n                >\r\n                    <svg\r\n                        xmlns=\"http://www.w3.org/2000/svg\"\r\n                        className=\"w-6 h-6\"\r\n                        fill=\"none\"\r\n                        viewBox=\"0 0 24 24\"\r\n                        stroke=\"currentColor\"\r\n                        strokeWidth={2}\r\n                    >\r\n                        <path\r\n                            strokeLinecap=\"round\"\r\n                            strokeLinejoin=\"round\"\r\n                            d=\"M6 18L18 6M6 6l12 12\"\r\n                        />\r\n                    </svg>\r\n                </button>\r\n\r\n                {/* Sidebar Content */}\r\n                <Sidebar />\r\n                <nav className=\"p-4\">\r\n                    <Link href=\"/store-locations\" className=\"block py-2 hover:underline\">\r\n                        Hệ thống cửa hàng\r\n                    </Link>\r\n                    <Link href=\"/user-guide\" className=\"block py-2 hover:underline\">\r\n                        Hướng dẫn sử dụng\r\n                    </Link>\r\n                    <Link href=\"/warranty-policy\" className=\"block py-2 hover:underline\">\r\n                        Chính sách bảo hành\r\n                    </Link>\r\n                </nav>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1830, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1836, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/components/Footer.js"],"sourcesContent":["export default function Footer() {\r\n    return (\r\n        <footer className=\"bg-gray-800 text-white py-6 mt-10\">\r\n            <div className=\"container mx-auto text-center\">\r\n                <p className=\"text-sm\">\r\n                    &copy; 2025 Fashion Store. All rights reserved.\r\n                </p>\r\n            </div>\r\n        </footer>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAe,SAAS;IACpB,qBACI,qKAAC;QAAO,WAAU;kBACd,cAAA,qKAAC;YAAI,WAAU;sBACX,cAAA,qKAAC;gBAAE,WAAU;0BAAU;;;;;;;;;;;;;;;;AAMvC"}},
    {"offset": {"line": 1865, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1871, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/components/Layout.js"],"sourcesContent":["import Header from './Header';\r\nimport Footer from './Footer';\r\n\r\n\r\nexport default function Layout({ children }) {\r\n    return (\r\n        <div className=\"min-h-screen flex flex-col\">\r\n            <Header />\r\n            <main className=\"flex-grow container mx-auto px-4 py-6\">\r\n                {children}\r\n            </main>\r\n            <Footer />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;;;;AAGe,SAAS,OAAO,EAAE,QAAQ,EAAE;IACvC,qBACI,qKAAC;QAAI,WAAU;;0BACX,qKAAC,oHAAA,CAAA,UAAM;;;;;0BACP,qKAAC;gBAAK,WAAU;0BACX;;;;;;0BAEL,qKAAC,oHAAA,CAAA,UAAM;;;;;;;;;;;AAGnB"}},
    {"offset": {"line": 1909, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1915, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/components/Sidebar2.js"],"sourcesContent":["import { useRouter } from 'next/router';\r\n\r\nexport default function Sidebar() {\r\n    // Danh sách danh mục với id và name\r\n    const categories = [\r\n        { id: 1, name: 'Áo Thun' },\r\n        { id: 2, name: 'Quần Jeans' },\r\n        { id: 3, name: 'Váy' },\r\n        { id: 4, name: 'Áo Khoác' },\r\n        { id: 5, name: 'Phụ Kiện' },\r\n    ];\r\n\r\n    const router = useRouter();\r\n    const { categoryId } = router.query;\r\n\r\n    return (\r\n        <div className=\"flex flex-wrap justify-center gap-6 p-6 bg-white rounded-lg shadow-lg\">\r\n            {categories.map((category) => (\r\n                <button\r\n                    key={category.id}\r\n                    onClick={() => router.push(`/category/productsByCategory?categoryId=${category.id}&categoryName=${category.name}`)}\r\n                    className={`px-6 py-3 text-lg font-semibold rounded-lg border-2 transition-all ${\r\n                        parseInt(categoryId, 10) === category.id\r\n                            ? 'bg-blue-500 text-white border-blue-500 shadow-md'\r\n                            : 'bg-gray-100 text-gray-700 border-gray-300 hover:bg-blue-100 hover:border-blue-400'\r\n                    }`}\r\n                >\r\n                    {category.name}\r\n                </button>\r\n            ))}\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEe,SAAS;IACpB,oCAAoC;IACpC,MAAM,aAAa;QACf;YAAE,IAAI;YAAG,MAAM;QAAU;QACzB;YAAE,IAAI;YAAG,MAAM;QAAa;QAC5B;YAAE,IAAI;YAAG,MAAM;QAAM;QACrB;YAAE,IAAI;YAAG,MAAM;QAAW;QAC1B;YAAE,IAAI;YAAG,MAAM;QAAW;KAC7B;IAED,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IACvB,MAAM,EAAE,UAAU,EAAE,GAAG,OAAO,KAAK;IAEnC,qBACI,qKAAC;QAAI,WAAU;kBACV,WAAW,GAAG,CAAC,CAAC,yBACb,qKAAC;gBAEG,SAAS,IAAM,OAAO,IAAI,CAAC,CAAC,wCAAwC,EAAE,SAAS,EAAE,CAAC,cAAc,EAAE,SAAS,IAAI,EAAE;gBACjH,WAAW,CAAC,mEAAmE,EAC3E,SAAS,YAAY,QAAQ,SAAS,EAAE,GAClC,qDACA,qFACR;0BAED,SAAS,IAAI;eART,SAAS,EAAE;;;;;;;;;;AAapC"}},
    {"offset": {"line": 1965, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1971, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/components/Banner.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst images = [\r\n    'https://firebasestorage.googleapis.com/v0/b/red89-f8933.appspot.com/o/KLTN%2FBanner%2FDALL%C2%B7E%202025-01-16%2017.46.23%20-%20A%20horizontal%20banner%20for%20the%20brand%20\\'Fashion%20Store%2C\\'%20designed%20to%20appeal%20to%20a%20diverse%20audience.%20The%20logo%20is%20prominently%20placed%20in%20the%20center%20of%20the%20banne.webp?alt=media&token=b2c95f9e-35c9-4da0-a5ba-1d293ec3f1ee',\r\n    'https://firebasestorage.googleapis.com/v0/b/red89-f8933.appspot.com/o/KLTN%2FBanner%2FDALL%C2%B7E%202025-01-16%2017.35.06%20-%20A%20set%20of%20three%20horizontal%20banners%20for%20a%20clothing%20shop%2C%20each%20designed%20for%20a%20modern%2C%20stylish%20theme.%20The%20first%20banner%20features%20casual%20summer%20outfits%20in%20v.webp?alt=media&token=2aa6f64f-7efd-4bed-9373-1c388eaad463',\r\n    'https://firebasestorage.googleapis.com/v0/b/red89-f8933.appspot.com/o/KLTN%2FBanner%2FDALL%C2%B7E%202025-01-16%2017.39.08%20-%20A%20horizontal%20banner%20for%20a%20clothing%20shop%20featuring%20a%20minimalistic%20streetwear%20theme%20for%20youth.%20The%20design%20showcases%20stylish%20hoodies%2C%20oversized%20t-shirts%2C.webp?alt=media&token=bda0c9ce-0cdd-4cfb-ab36-13a0a7455aea', \r\n];\r\n\r\nexport default function Banner() {\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const interval = setInterval(() => {\r\n            setCurrentIndex((prevIndex) => (prevIndex + 1) % images.length);\r\n        }, 3000); // Change image every 3 seconds\r\n        return () => clearInterval(interval); // Cleanup on unmount\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"relative w-full h-[30rem] md:h-[50rem] overflow-hidden\">\r\n            {images.map((image, index) => (\r\n                <div\r\n                    key={index}\r\n                    className={`absolute inset-0 w-full h-full transition-transform duration-700 ease-in-out transform ${\r\n                        index === currentIndex\r\n                            ? 'translate-x-0'\r\n                            : index < currentIndex\r\n                            ? '-translate-x-full'\r\n                            : 'translate-x-full'\r\n                    }`}\r\n                >\r\n                    <img\r\n                        src={image}\r\n                        alt={`Banner ${index + 1}`}\r\n                        className=\"w-full h-full object-cover\"\r\n                    />\r\n                </div>\r\n            ))}\r\n\r\n            {/* Pagination Dots */}\r\n            <div className=\"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2\">\r\n                {images.map((_, index) => (\r\n                    <button\r\n                        key={index}\r\n                        onClick={() => setCurrentIndex(index)}\r\n                        className={`w-3 h-3 rounded-full ${\r\n                            index === currentIndex\r\n                                ? 'bg-white'\r\n                                : 'bg-gray-400'\r\n                        }`}\r\n                    />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;;;AAEA,MAAM,SAAS;IACX;IACA;IACA;CACH;AAEc,SAAS;IACpB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACN,MAAM,WAAW,YAAY;YACzB,gBAAgB,CAAC,YAAc,CAAC,YAAY,CAAC,IAAI,OAAO,MAAM;QAClE,GAAG,OAAO,+BAA+B;QACzC,OAAO,IAAM,cAAc,WAAW,qBAAqB;IAC/D,GAAG,EAAE;IAEL,qBACI,qKAAC;QAAI,WAAU;;YACV,OAAO,GAAG,CAAC,CAAC,OAAO,sBAChB,qKAAC;oBAEG,WAAW,CAAC,uFAAuF,EAC/F,UAAU,eACJ,kBACA,QAAQ,eACR,sBACA,oBACR;8BAEF,cAAA,qKAAC;wBACG,KAAK;wBACL,KAAK,CAAC,OAAO,EAAE,QAAQ,GAAG;wBAC1B,WAAU;;;;;;mBAZT;;;;;0BAkBb,qKAAC;gBAAI,WAAU;0BACV,OAAO,GAAG,CAAC,CAAC,GAAG,sBACZ,qKAAC;wBAEG,SAAS,IAAM,gBAAgB;wBAC/B,WAAW,CAAC,qBAAqB,EAC7B,UAAU,eACJ,aACA,eACR;uBANG;;;;;;;;;;;;;;;;AAY7B"}},
    {"offset": {"line": 2032, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2038, "column": 0}, "map": {"version":3,"sources":["file://D%3A/1_KLTN_HK2_2024_25/A1/fe_web_app/src/pages/featured-products.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { fetchFeaturedProductsByPagination } from '../store/slices/productSlice';\r\nimport { useRouter } from 'next/router';\r\nimport Layout from '../components/Layout';\r\nimport Sidebar from '../components/Sidebar2';\r\nimport Banner from '../components/Banner';\r\n\r\nexport default function FeaturedProducts() {\r\n    const router = useRouter();\r\n    const dispatch = useDispatch();\r\n    const { featuredProducts, loading, error } = useSelector((state) => state.products);\r\n\r\n    const [currentPage, setCurrentPage] = useState(1); // Theo dõi trang hiện tại\r\n    const pageSize = 10; // Mặc định tải 10 sản phẩm mỗi lần\r\n\r\n    // Fetch dữ liệu sản phẩm nổi bật khi trang hoặc Redux thay đổi\r\n    useEffect(() => {\r\n        dispatch(fetchFeaturedProductsByPagination({ page: currentPage, limit: pageSize }));\r\n    }, [dispatch, currentPage]);\r\n\r\n    const handleLoadMore = () => {\r\n        setCurrentPage((prevPage) => prevPage + 1); // Tăng số trang để tải thêm dữ liệu\r\n    };\r\n\r\n    const handleProductClick = (slug) => {\r\n        router.push(`/productdetail/${slug}`);\r\n    };\r\n\r\n    return (\r\n        <Layout>\r\n            <Banner />\r\n            {/* Sidebar dưới banner */}\r\n            <div className=\"mt-6 px-6\">\r\n                <div className=\"hidden md:flex justify-center gap-4\">\r\n                    <Sidebar />\r\n                </div>\r\n            </div>\r\n\r\n            {/* main content */}\r\n            <div className=\"w-full px-4 py-6\">\r\n                <h1 className=\"text-2xl font-bold mb-6\">Tất cả sản phẩm nổi bật</h1>\r\n\r\n                {/* Hiển thị lỗi nếu có */}\r\n                {error && <div className=\"text-red-500 text-center\">{error}</div>}\r\n\r\n                {/* Danh sách sản phẩm */}\r\n                <div className=\"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8\">\r\n                    {featuredProducts.items.map((product) => (\r\n                        <div\r\n                            key={product.id}\r\n                            className=\"bg-white rounded shadow p-4 hover:shadow-lg transition cursor-pointer\"\r\n                            onClick={() => handleProductClick(product.slug)}\r\n                        >\r\n                            <img\r\n                                src={\r\n                                    product.productColors[0]?.ProductColor?.image ||\r\n                                    'https://via.placeholder.com/150'\r\n                                }\r\n                                alt={product.product_name}\r\n                                className=\"w-full h-60 sm:h-72 md:h-80 object-cover rounded\"\r\n                            />\r\n                            <h3 className=\"text-lg font-semibold mt-2\">{product.product_name}</h3>\r\n                            <p className=\"text-gray-600\">{product.description}</p>\r\n                            <p className=\"text-red-500 font-bold\">\r\n                                {product.discount_price.toLocaleString('vi-VN')} VND\r\n                            </p>\r\n                            <p className=\"text-gray-500 line-through\">\r\n                                {product.price.toLocaleString('vi-VN')} VND\r\n                            </p>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n\r\n                {/* Nút tải thêm */}\r\n                <div className=\"flex justify-center mt-6\">\r\n                    {featuredProducts.pagination &&\r\n                        currentPage < featuredProducts.pagination.totalPages && (\r\n                            <button\r\n                                onClick={handleLoadMore}\r\n                                className=\"px-4 py-2 rounded bg-blue-600 text-white hover:bg-blue-700\"\r\n                            >\r\n                                Xem thêm\r\n                            </button>\r\n                        )}\r\n                </div>\r\n\r\n                {/* Hiển thị trạng thái tải */}\r\n                {loading && <div className=\"text-center mt-4\">Đang tải...</div>}\r\n            </div>\r\n        </Layout>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AAEe,SAAS;IACpB,MAAM,SAAS,CAAA,GAAA,uHAAA,CAAA,YAAS,AAAD;IACvB,MAAM,WAAW,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD;IAC3B,MAAM,EAAE,gBAAgB,EAAE,OAAO,EAAE,KAAK,EAAE,GAAG,CAAA,GAAA,4HAAA,CAAA,cAAW,AAAD,EAAE,CAAC,QAAU,MAAM,QAAQ;IAElF,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,mGAAA,CAAA,WAAQ,AAAD,EAAE,IAAI,0BAA0B;IAC7E,MAAM,WAAW,IAAI,mCAAmC;IAExD,+DAA+D;IAC/D,CAAA,GAAA,mGAAA,CAAA,YAAS,AAAD,EAAE;QACN,SAAS,CAAA,GAAA,+HAAA,CAAA,oCAAiC,AAAD,EAAE;YAAE,MAAM;YAAa,OAAO;QAAS;IACpF,GAAG;QAAC;QAAU;KAAY;IAE1B,MAAM,iBAAiB;QACnB,eAAe,CAAC,WAAa,WAAW,IAAI,oCAAoC;IACpF;IAEA,MAAM,qBAAqB,CAAC;QACxB,OAAO,IAAI,CAAC,CAAC,eAAe,EAAE,MAAM;IACxC;IAEA,qBACI,qKAAC,oHAAA,CAAA,UAAM;;0BACH,qKAAC,oHAAA,CAAA,UAAM;;;;;0BAEP,qKAAC;gBAAI,WAAU;0BACX,cAAA,qKAAC;oBAAI,WAAU;8BACX,cAAA,qKAAC,sHAAA,CAAA,UAAO;;;;;;;;;;;;;;;0BAKhB,qKAAC;gBAAI,WAAU;;kCACX,qKAAC;wBAAG,WAAU;kCAA0B;;;;;;oBAGvC,uBAAS,qKAAC;wBAAI,WAAU;kCAA4B;;;;;;kCAGrD,qKAAC;wBAAI,WAAU;kCACV,iBAAiB,KAAK,CAAC,GAAG,CAAC,CAAC,wBACzB,qKAAC;gCAEG,WAAU;gCACV,SAAS,IAAM,mBAAmB,QAAQ,IAAI;;kDAE9C,qKAAC;wCACG,KACI,QAAQ,aAAa,CAAC,EAAE,EAAE,cAAc,SACxC;wCAEJ,KAAK,QAAQ,YAAY;wCACzB,WAAU;;;;;;kDAEd,qKAAC;wCAAG,WAAU;kDAA8B,QAAQ,YAAY;;;;;;kDAChE,qKAAC;wCAAE,WAAU;kDAAiB,QAAQ,WAAW;;;;;;kDACjD,qKAAC;wCAAE,WAAU;;4CACR,QAAQ,cAAc,CAAC,cAAc,CAAC;4CAAS;;;;;;;kDAEpD,qKAAC;wCAAE,WAAU;;4CACR,QAAQ,KAAK,CAAC,cAAc,CAAC;4CAAS;;;;;;;;+BAlBtC,QAAQ,EAAE;;;;;;;;;;kCAyB3B,qKAAC;wBAAI,WAAU;kCACV,iBAAiB,UAAU,IACxB,cAAc,iBAAiB,UAAU,CAAC,UAAU,kBAChD,qKAAC;4BACG,SAAS;4BACT,WAAU;sCACb;;;;;;;;;;;oBAOZ,yBAAW,qKAAC;wBAAI,WAAU;kCAAmB;;;;;;;;;;;;;;;;;;AAI9D"}},
    {"offset": {"line": 2230, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}