(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[309],{4175:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return a(6512)}])},6269:(e,s,a)=>{"use strict";a.d(s,{A:()=>r});var t=a(4848);function r(){return(0,t.jsx)("footer",{className:"bg-gray-800 text-white py-6 mt-10",children:(0,t.jsx)("div",{className:"container mx-auto text-center",children:(0,t.jsx)("p",{className:"text-sm",children:"\xa9 2025 Fashion Store. All rights reserved."})})})}},6512:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var t=a(4848),r=a(6540),l=a(1468),n=a(6815),i=a(4358),d=a(9031),o=a(6269);let c=()=>{let e=(0,l.wA)(),{adminInfo:s,error:a}=(0,l.d4)(e=>e.adminUser),{user:c,loading:m}=(0,l.d4)(e=>e.auth),[u,h]=(0,r.useState)(!1),[x,p]=(0,r.useState)(null);(0,r.useEffect)(()=>{if((0,d.gf)()){let s=(0,d.Lw)();"admin"===s||"superadmin"===s?(p(s),e((0,i.ug)())):h(!0)}else h(!0)},[e,x]);let g=async s=>{s.preventDefault();let a=s.target.email.value,t=s.target.password.value;try{await e((0,n.b7)({email:a,password:t})).unwrap();let s=(0,d.Lw)();if("admin"===s||"superadmin"===s)p(s),h(!1),e((0,i.ug)());else throw Error("Unauthorized role")}catch(e){console.error("Login failed:",e)}},b=async()=>{try{await e((0,n._p)()).unwrap(),p(null),h(!0)}catch(e){console.error("Failed to logout:",e)}};return x?(0,t.jsxs)("div",{className:"min-h-screen bg-gray-100 flex flex-col",children:[(0,t.jsxs)("header",{className:"bg-white shadow-md py-4 px-6 flex justify-between items-center",children:[(0,t.jsxs)("div",{className:"text-2xl font-semibold text-gray-800",children:["Admin Dashboard - ",x?x.toUpperCase():"Unknown"]}),(0,t.jsx)("button",{onClick:b,className:"bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"Logout"})]}),(0,t.jsx)("main",{className:"flex-grow p-6",children:(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,t.jsxs)("h1",{className:"text-xl font-bold text-gray-800 mb-4",children:["Welcome, ",(null==c?void 0:c.firstname)||"Guest","!"]}),m?(0,t.jsx)("p",{className:"text-gray-600",children:"Loading user information..."}):c?(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"Email:"})," ",c.email]}),(0,t.jsxs)("p",{className:"text-gray-600",children:[(0,t.jsx)("strong",{children:"Phone:"})," ",c.phone||"N/A"]})]}):(0,t.jsx)("p",{className:"text-gray-600",children:"User information not available."})]})}),(0,t.jsx)(o.A,{})]}):(0,t.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,t.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,t.jsx)("h2",{className:"text-lg font-bold mb-4",children:"Admin Login"}),a&&(0,t.jsx)("p",{className:"text-red-500 text-sm mb-4",children:a}),(0,t.jsxs)("form",{onSubmit:g,children:[(0,t.jsx)("input",{type:"email",name:"email",placeholder:"Email",className:"w-full p-2 mb-4 border rounded",required:!0}),(0,t.jsx)("input",{type:"password",name:"password",placeholder:"Password",className:"w-full p-2 mb-4 border rounded",required:!0}),(0,t.jsx)("button",{type:"submit",className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600",children:"Login"})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[636,593,792],()=>s(4175)),_N_E=e.O()}]);