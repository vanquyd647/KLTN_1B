(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[442],{8834:(e,s,n)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return n(6056)}])},6269:(e,s,n)=>{"use strict";n.d(s,{A:()=>t});var r=n(4848);function t(){return(0,r.jsx)("footer",{className:"bg-gray-800 text-white py-6 mt-10",children:(0,r.jsx)("div",{className:"container mx-auto text-center",children:(0,r.jsx)("p",{className:"text-sm",children:"\xa9 2025 Fashion Store. All rights reserved."})})})}},3270:(e,s,n)=>{"use strict";n.d(s,{A:()=>d});var r=n(4848),t=n(6540),l=n(1106),a=n.n(l);function i(){return(0,r.jsxs)("aside",{className:"p-6",children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Danh mục"}),(0,r.jsx)("ul",{className:"space-y-4",children:[{id:1,name:"\xc1o",subCategories:[{id:101,name:"\xc1o Thun"},{id:102,name:"\xc1o Sơ Mi"},{id:103,name:"\xc1o Polo"}]},{id:2,name:"Quần",subCategories:[{id:201,name:"Quần Jeans"},{id:202,name:"Quần Shorts"},{id:203,name:"Quần T\xe2y"}]},{id:3,name:"Gi\xe0y D\xe9p",subCategories:[{id:301,name:"Gi\xe0y Thể Thao"},{id:302,name:"Gi\xe0y Lười"},{id:303,name:"D\xe9p Sandals"}]},{id:4,name:"Phụ Kiện",subCategories:[{id:401,name:"Mũ"},{id:402,name:"Thắt Lưng"},{id:403,name:"Balo"}]}].map(e=>(0,r.jsxs)("li",{children:[(0,r.jsx)("a",{href:"/category/productsByCategory?categoryId=".concat(e.id,"&categoryName=").concat(e.name),className:"hover:underline block font-bold",children:e.name}),(0,r.jsx)("ul",{className:"pl-4 mt-2 space-y-2",children:e.subCategories.map(e=>(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"/category/productsByCategory?categoryId=".concat(e.id,"&categoryName=").concat(e.name),className:"hover:underline text-gray-600 block",children:e.name})},e.id))})]},e.id))})]})}function o(){let[e,s]=(0,t.useState)(!1),n=()=>{s(!e)};return(0,t.useEffect)(()=>{let e=()=>{window.innerWidth>=768&&s(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("header",{className:"bg-blue-600 text-white p-4 shadow",children:(0,r.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,r.jsx)("button",{className:"md:hidden block focus:outline-none mr-4",onClick:n,children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),(0,r.jsx)(a(),{href:"/",className:"text-2xl font-bold flex-shrink-0",children:"Fashion Store"}),(0,r.jsxs)("nav",{className:"hidden md:flex space-x-6 ml-auto",children:[(0,r.jsx)(a(),{href:"/store-locations",className:"hover:underline",children:"Hệ thống cửa h\xe0ng"}),(0,r.jsx)(a(),{href:"/user-guide",className:"hover:underline",children:"Hướng dẫn sử dụng"}),(0,r.jsx)(a(),{href:"/warranty-policy",className:"hover:underline",children:"Ch\xednh s\xe1ch bảo h\xe0nh"})]}),(0,r.jsx)("nav",{className:"flex space-x-6 md:ml-auto",children:(0,r.jsxs)("ul",{className:"flex space-x-4 items-center",children:[(0,r.jsx)("li",{children:(0,r.jsx)(a(),{href:"/search",className:"hover:underline",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z"})})})}),(0,r.jsx)("li",{children:(0,r.jsx)(a(),{href:"/account/profile",className:"hover:underline",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-6 7c0-3.31 2.69-6 6-6s6 2.69 6 6H6z"})})})}),(0,r.jsx)("li",{children:(0,r.jsx)(a(),{href:"/cart",className:"hover:underline",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-1.5 6m12.5-6l1.5 6m-10-1h8"})})})})]})})]})}),(0,r.jsx)("div",{className:"fixed inset-0 z-50 bg-gray-800 bg-opacity-50 transition-opacity duration-300 ".concat(e?"opacity-100 visible":"opacity-0 invisible"),onClick:n}),(0,r.jsxs)("div",{className:"fixed top-0 left-0 w-64 h-full bg-white shadow-lg z-50 transform transition-transform duration-300 ".concat(e?"translate-x-0":"-translate-x-full"),children:[(0,r.jsx)("button",{className:"absolute top-4 right-4 text-blue-600 focus:outline-none",onClick:n,children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)(i,{}),(0,r.jsxs)("nav",{className:"p-4",children:[(0,r.jsx)(a(),{href:"/store-locations",className:"block py-2 hover:underline",children:"Hệ thống cửa h\xe0ng"}),(0,r.jsx)(a(),{href:"/user-guide",className:"block py-2 hover:underline",children:"Hướng dẫn sử dụng"}),(0,r.jsx)(a(),{href:"/warranty-policy",className:"block py-2 hover:underline",children:"Ch\xednh s\xe1ch bảo h\xe0nh"})]})]})]})}var c=n(6269);function d(e){let{children:s}=e;return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,r.jsx)(o,{}),(0,r.jsx)("main",{className:"flex-grow container mx-auto px-4 py-6",children:s}),(0,r.jsx)(c.A,{})]})}},6056:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>d});var r=n(4848),t=n(6540),l=n(1468),a=n(3257),i=n(9031),o=n(6715),c=n(3270);let d=()=>{let e=(0,l.wA)(),s=(0,o.useRouter)(),{items:n,loading:d,error:h}=(0,l.d4)(e=>e.cart);(0,t.useEffect)(()=>((async()=>{try{let s;(0,i.Cy)()?await e((0,a.je)((0,i.Cy)())):(null==(s=(0,i.gf)()?await e((0,a.fN)()).unwrap():await e((0,a.ci)()).unwrap())?void 0:s.id)&&await e((0,a.je)(s.id))}catch(e){console.error("Failed to initialize cart:",e)}})(),()=>{e((0,a.nI)())}),[e]);let u=(s,n)=>{n>0&&e((0,a.AR)({itemId:s,quantity:n})).unwrap().then(()=>{console.log("Quantity updated successfully")}).catch(e=>{console.error("Failed to update quantity:",e)})},x=s=>{e((0,a.SM)(s)).unwrap().then(()=>{console.log("Item removed successfully")}).catch(e=>{console.error("Failed to remove item:",e)})},m=e=>{s.push("/productdetail/".concat(e))};return d?(0,r.jsx)("div",{className:"text-center py-10 text-xl",children:"Loading cart..."}):h?(0,r.jsx)("div",{className:"text-center text-red-500 py-10",children:h}):(0,r.jsx)(c.A,{children:(0,r.jsxs)("div",{className:"container mx-auto px-4 py-6 flex flex-col lg:flex-row lg:gap-8",children:[(0,r.jsxs)("div",{className:"lg:w-2/3",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-6 border-b pb-4",children:"GIỎ H\xc0NG CỦA BẠN"}),n&&0!==n.length?(0,r.jsx)("ul",{className:"space-y-4",children:n.map(e=>{var s,n,t,l,a;let i=e.product||{},o=(null===(s=e.color)||void 0===s?void 0:s.color)||"N/A",c=(null===(n=e.size)||void 0===n?void 0:n.size)||"N/A",d=(null===(a=i.productColors)||void 0===a?void 0:null===(l=a.find(s=>{var n;return s.id===(null===(n=e.color)||void 0===n?void 0:n.id)}))||void 0===l?void 0:null===(t=l.ProductColor)||void 0===t?void 0:t.image)||"https://via.placeholder.com/100";return(0,r.jsxs)("li",{className:"flex gap-4 items-center",children:[(0,r.jsx)("img",{src:d,alt:i.product_name||"Product",className:"w-24 h-24 object-cover rounded border"}),(0,r.jsxs)("div",{className:"flex-1",onClick:()=>m(i.slug),children:[(0,r.jsx)("h3",{className:"text-lg font-semibold",children:i.product_name||"Unknown Product"}),(0,r.jsx)("p",{className:"text-gray-700",children:(0,r.jsxs)("span",{className:"font-medium",children:[o," / ",c]})}),(0,r.jsxs)("p",{className:"font-bold text-gray-500",children:[(i.discount_price||i.price||0).toLocaleString("vi-VN")," ","VND"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("button",{onClick:()=>u(e.id,e.quantity-1),className:"bg-gray-200 px-3 py-1 rounded hover:bg-gray-300",children:"-"}),(0,r.jsx)("span",{className:"text-lg font-medium",children:e.quantity}),(0,r.jsx)("button",{onClick:()=>u(e.id,e.quantity+1),className:"bg-gray-200 px-3 py-1 rounded hover:bg-gray-300",children:"+"})]}),(0,r.jsx)("button",{onClick:()=>x(e.id),className:"bg-red-500 text-white px-3 py-1 rounded hover:bg-red-700",children:"\xd7"})]},e.id)})}):(0,r.jsx)("p",{className:"text-center text-lg",children:"Your cart is empty."})]}),(0,r.jsxs)("div",{className:"w-full lg:w-1/3 bg-white p-4 rounded border self-start mt-10 lg:mt-0",children:[(0,r.jsx)("h2",{className:"text-xl font-bold mb-4 border-b pb-4 text-center lg:text-left",children:"TH\xd4NG TIN ĐƠN H\xc0NG"}),(0,r.jsxs)("p",{className:"text-lg text-center lg:text-left",children:["Tổng tiền:"," ",(0,r.jsxs)("span",{className:"font-bold text-red-500",children:[n.reduce((e,s)=>{var n,r;return e+((null===(n=s.product)||void 0===n?void 0:n.discount_price)||(null===(r=s.product)||void 0===r?void 0:r.price)||0)*s.quantity},0).toLocaleString()," VND"]})]}),(0,r.jsx)("button",{onClick:()=>s.push("/checkout"),disabled:!n||0===n.length,className:"mt-6 w-full bg-blue-600 text-white px-4 py-2 rounded hover:bg-red-700 transition disabled:bg-gray-400 font-bold",children:"ĐẶT H\xc0NG"})]})]})})}}},e=>{var s=s=>e(e.s=s);e.O(0,[392,636,593,792],()=>s(8834)),_N_E=e.O()}]);