(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[566],{6898:(e,s,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/productdetail/[slug]",function(){return r(2339)}])},6269:(e,s,r)=>{"use strict";r.d(s,{A:()=>l});var t=r(4848);function l(){return(0,t.jsx)("footer",{className:"bg-gray-800 text-white py-6 mt-10",children:(0,t.jsx)("div",{className:"container mx-auto text-center",children:(0,t.jsx)("p",{className:"text-sm",children:"\xa9 2025 Fashion Store. All rights reserved."})})})}},3270:(e,s,r)=>{"use strict";r.d(s,{A:()=>d});var t=r(4848),l=r(6540),n=r(1106),a=r.n(n);function i(){return(0,t.jsxs)("aside",{className:"p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold mb-4",children:"Danh mục"}),(0,t.jsx)("ul",{className:"space-y-4",children:[{id:1,name:"\xc1o",subCategories:[{id:101,name:"\xc1o Thun"},{id:102,name:"\xc1o Sơ Mi"},{id:103,name:"\xc1o Polo"}]},{id:2,name:"Quần",subCategories:[{id:201,name:"Quần Jeans"},{id:202,name:"Quần Shorts"},{id:203,name:"Quần T\xe2y"}]},{id:3,name:"Gi\xe0y D\xe9p",subCategories:[{id:301,name:"Gi\xe0y Thể Thao"},{id:302,name:"Gi\xe0y Lười"},{id:303,name:"D\xe9p Sandals"}]},{id:4,name:"Phụ Kiện",subCategories:[{id:401,name:"Mũ"},{id:402,name:"Thắt Lưng"},{id:403,name:"Balo"}]}].map(e=>(0,t.jsxs)("li",{children:[(0,t.jsx)("a",{href:"/category/productsByCategory?categoryId=".concat(e.id,"&categoryName=").concat(e.name),className:"hover:underline block font-bold",children:e.name}),(0,t.jsx)("ul",{className:"pl-4 mt-2 space-y-2",children:e.subCategories.map(e=>(0,t.jsx)("li",{children:(0,t.jsx)("a",{href:"/category/productsByCategory?categoryId=".concat(e.id,"&categoryName=").concat(e.name),className:"hover:underline text-gray-600 block",children:e.name})},e.id))})]},e.id))})]})}function o(){let[e,s]=(0,l.useState)(!1),r=()=>{s(!e)};return(0,l.useEffect)(()=>{let e=()=>{window.innerWidth>=768&&s(!1)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("header",{className:"bg-blue-600 text-white p-4 shadow",children:(0,t.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,t.jsx)("button",{className:"md:hidden block focus:outline-none mr-4",onClick:r,children:(0,t.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16m-7 6h7"})})}),(0,t.jsx)(a(),{href:"/",className:"text-2xl font-bold flex-shrink-0",children:"Fashion Store"}),(0,t.jsxs)("nav",{className:"hidden md:flex space-x-6 ml-auto",children:[(0,t.jsx)(a(),{href:"/store-locations",className:"hover:underline",children:"Hệ thống cửa h\xe0ng"}),(0,t.jsx)(a(),{href:"/user-guide",className:"hover:underline",children:"Hướng dẫn sử dụng"}),(0,t.jsx)(a(),{href:"/warranty-policy",className:"hover:underline",children:"Ch\xednh s\xe1ch bảo h\xe0nh"})]}),(0,t.jsx)("nav",{className:"flex space-x-6 md:ml-auto",children:(0,t.jsxs)("ul",{className:"flex space-x-4 items-center",children:[(0,t.jsx)("li",{children:(0,t.jsx)(a(),{href:"/search",className:"hover:underline",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-4.35-4.35M10 18a8 8 0 100-16 8 8 0 000 16z"})})})}),(0,t.jsx)("li",{children:(0,t.jsx)(a(),{href:"/account/profile",className:"hover:underline",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-6 7c0-3.31 2.69-6 6-6s6 2.69 6 6H6z"})})})}),(0,t.jsx)("li",{children:(0,t.jsx)(a(),{href:"/cart",className:"hover:underline",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-1.5 6m12.5-6l1.5 6m-10-1h8"})})})})]})})]})}),(0,t.jsx)("div",{className:"fixed inset-0 z-50 bg-gray-800 bg-opacity-50 transition-opacity duration-300 ".concat(e?"opacity-100 visible":"opacity-0 invisible"),onClick:r}),(0,t.jsxs)("div",{className:"fixed top-0 left-0 w-64 h-full bg-white shadow-lg z-50 transform transition-transform duration-300 ".concat(e?"translate-x-0":"-translate-x-full"),children:[(0,t.jsx)("button",{className:"absolute top-4 right-4 text-blue-600 focus:outline-none",onClick:r,children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18L18 6M6 6l12 12"})})}),(0,t.jsx)(i,{}),(0,t.jsxs)("nav",{className:"p-4",children:[(0,t.jsx)(a(),{href:"/store-locations",className:"block py-2 hover:underline",children:"Hệ thống cửa h\xe0ng"}),(0,t.jsx)(a(),{href:"/user-guide",className:"block py-2 hover:underline",children:"Hướng dẫn sử dụng"}),(0,t.jsx)(a(),{href:"/warranty-policy",className:"block py-2 hover:underline",children:"Ch\xednh s\xe1ch bảo h\xe0nh"})]})]})]})}var c=r(6269);function d(e){let{children:s}=e;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(o,{}),(0,t.jsx)("main",{className:"flex-grow container mx-auto px-4 py-6",children:s}),(0,t.jsx)(c.A,{})]})}},2339:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>m});var t=r(4848),l=r(6540),n=r(1468),a=r(6715),i=r(9031),o=r(7730),c=r(3257),d=r(4660),h=r(3270);function x(e){let{reviews:s,averageRating:r,pagination:l,reviewsError:n,handlePageChange:a,handleSubmitReview:i,reviewRating:o,setReviewRating:c,reviewText:d,setReviewText:h,getToken:x,router:u}=e;return(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Đ\xe1nh gi\xe1 sản phẩm"}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold mb-2",children:["ĐIỂM Đ\xc1NH GI\xc1 ",r||0,"/5 DỰA TR\xcaN ",l.totalReviews," Đ\xc1NH GI\xc1"]}),n?(0,t.jsx)("p",{className:"text-red-500",children:"Failed to fetch reviews."}):(0,t.jsxs)("div",{className:"flex flex-col gap-4",children:[null==s?void 0:s.map(e=>(0,t.jsxs)("div",{className:"border p-4 rounded shadow-sm bg-white hover:shadow-md",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6 text-gray-500",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M12 2a10 10 0 100 20 10 10 0 000-20zM8.25 9a3.75 3.75 0 117.5 0 3.75 3.75 0 01-7.5 0zM5.95 16.86a7.5 7.5 0 0112.1 0 8.5 8.5 0 10-12.1 0z",clipRule:"evenodd"})})}),(0,t.jsx)("p",{className:"font-semibold",children:e.user})]}),(0,t.jsx)("div",{className:"flex items-center mb-2",children:[1,2,3,4,5].map(s=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:s<=e.rating?"currentColor":"none",stroke:"currentColor",strokeWidth:2,className:"w-6 h-6 ".concat(s<=e.rating?"text-yellow-500":"text-gray-300"),children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.172l2.828 5.734 6.337.919-4.582 4.46 1.081 6.312L12 17.711 6.336 20.597l1.08-6.312-4.582-4.46 6.337-.919L12 3.172z"})},s))}),(0,t.jsx)("p",{children:e.review_text})]},e.id)),(null==s?void 0:s.length)===0&&(0,t.jsx)("p",{children:"No reviews available for this product."})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap justify-center items-center gap-2 mt-4",children:[(0,t.jsx)("button",{className:"px-2 py-1 text-sm border rounded ".concat(l.currentPage<=1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),disabled:l.currentPage<=1,onClick:()=>a(1),children:"First"}),(0,t.jsx)("button",{className:"px-2 py-1 text-sm border rounded ".concat(l.currentPage<=1?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),disabled:l.currentPage<=1,onClick:()=>a(l.currentPage-1),children:"Previous"}),Array.from({length:l.totalPages},(e,s)=>s+1).filter(e=>1>=Math.abs(e-l.currentPage)).map(e=>(0,t.jsx)("button",{className:"px-2 py-1 text-sm border rounded ".concat(l.currentPage===e?"bg-blue-600 text-white":"hover:bg-gray-100"),onClick:()=>a(e),children:e},e)),(0,t.jsx)("button",{className:"px-2 py-1 text-sm border rounded ".concat(l.currentPage>=l.totalPages?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),disabled:l.currentPage>=l.totalPages,onClick:()=>a(l.currentPage+1),children:"Next"}),(0,t.jsx)("button",{className:"px-2 py-1 text-sm border rounded ".concat(l.currentPage>=l.totalPages?"opacity-50 cursor-not-allowed":"hover:bg-gray-100"),disabled:l.currentPage>=l.totalPages,onClick:()=>a(l.totalPages),children:"Last"})]}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"TH\xcaM Đ\xc1NH GI\xc1"}),x()?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex items-center mb-4",children:[1,2,3,4,5].map(e=>(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:e<=o?"currentColor":"none",stroke:"currentColor",strokeWidth:2,className:"w-8 h-8 cursor-pointer ".concat(e<=o?"text-yellow-500":"text-gray-300"),onClick:()=>c(e),children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3.172l2.828 5.734 6.337.919-4.582 4.46 1.081 6.312L12 17.711 6.336 20.597l1.08-6.312-4.582-4.46 6.337-.919L12 3.172z"})},e))}),(0,t.jsx)("textarea",{value:d,onChange:e=>h(e.target.value),className:"w-full border p-2 rounded mb-4",rows:"4",placeholder:"Write your review here..."}),(0,t.jsx)("button",{onClick:i,className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"Submit Review"})]}):(0,t.jsx)("button",{onClick:()=>u.push("/account/profile"),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition",children:"Vui l\xf2ng đăng nhập để đ\xe1nh gi\xe1 sản phẩm"})]})]})}function u(e){let{description:s}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"M\xf4 tả sản phẩm"}),(0,t.jsx)("p",{children:s})]})}function m(){var e;let s=(0,n.wA)(),r=(0,a.useRouter)(),{slug:m}=r.query,g=(0,i.Cy)(),{currentProduct:p,loading:v,error:b}=(0,n.d4)(e=>e.products),{reviews:j,averageRating:w,pagination:f,reviewsError:N}=(0,n.d4)(e=>e.reviews),[y,k]=(0,l.useState)(null),[C,M]=(0,l.useState)(null),[P,L]=(0,l.useState)(1),[_,S]=(0,l.useState)(""),[H,T]=(0,l.useState)(5),[z,I]=(0,l.useState)("reviews");(0,l.useEffect)(()=>{m&&s((0,o.$s)(m))},[s,m]),(0,l.useEffect)(()=>{(null==p?void 0:p.id)&&(s((0,d.ik)({productId:p.id,page:1,limit:5})),s((0,d.Zx)(p.id)))},[s,p]),(0,l.useEffect)(()=>{var e,s;(null==p?void 0:null===(e=p.productColors)||void 0===e?void 0:e.length)>0&&k(p.productColors[0]),(null==p?void 0:null===(s=p.productSizes)||void 0===s?void 0:s.length)>0&&M(p.productSizes[0])},[p]);let G=async()=>{if(!y||!C){alert("Vui l\xf2ng chọn m\xe0u v\xe0 k\xedch thước.");return}try{let e=g;if(!e){let r=(0,i.gf)()?await s((0,c.fN)()).unwrap():await s((0,c.ci)()).unwrap();e=null==r?void 0:r.id}await s((0,c.Mr)({cartId:e,itemData:{product_id:p.id,color_id:y.id,size_id:C.id,quantity:P}})).unwrap(),alert("Sản phẩm đ\xe3 được th\xeam v\xe0o giỏ h\xe0ng!")}catch(e){alert("Th\xeam v\xe0o giỏ h\xe0ng thất bại!")}},R=async()=>{if(!_.trim()){alert("Đ\xe1nh gi\xe1 kh\xf4ng được để trống.");return}try{await s((0,d.bx)({productId:p.id,rating:H,reviewText:_})).unwrap(),S(""),T(5),s((0,d.ik)({productId:p.id,page:f.currentPage,limit:5})),s((0,d.Zx)(p.id))}catch(e){alert("Gửi đ\xe1nh gi\xe1 thất bại!")}};return v?(0,t.jsx)("div",{children:"Đang tải..."}):b?(0,t.jsxs)("div",{children:["Đ\xe3 xảy ra lỗi: ",b]}):p?(0,t.jsx)(h.A,{children:(0,t.jsxs)("div",{className:"container mx-auto px-4 py-6",children:[(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,t.jsxs)("div",{className:"md:w-1/2 flex flex-col items-center",children:[(0,t.jsx)("div",{className:"w-full max-h-96 overflow-hidden",children:(0,t.jsx)("img",{src:(null==y?void 0:null===(e=y.ProductColor)||void 0===e?void 0:e.image)||"https://via.placeholder.com/500",alt:p.product_name,className:"w-full h-full object-contain rounded"})}),(0,t.jsx)("div",{className:"flex gap-2 mt-4 overflow-x-auto",children:p.productColors.map(e=>{var s;return(0,t.jsx)("div",{className:"w-16 h-16 rounded overflow-hidden border-2 cursor-pointer ".concat((null==y?void 0:y.id)===e.id?"ring-2 ring-blue-500 border-blue-500":"border-gray-300"),onClick:()=>k(e),children:(0,t.jsx)("img",{src:(null===(s=e.ProductColor)||void 0===s?void 0:s.image)||"https://via.placeholder.com/100",alt:e.color,className:"w-full h-full object-cover"})},e.id)})})]}),(0,t.jsx)("div",{className:"hidden md:block border-l border-gray-300"}),(0,t.jsxs)("div",{className:"md:w-1/2",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold mb-4",children:p.product_name}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("span",{className:"text-lg font-semibold",children:"T\xccNH TRẠNG: "}),(0,t.jsx)("span",{className:"font-bold ".concat("available"===p.status?"text-green-500":"out_of_stock"===p.status?"text-red-500":"text-gray-500"),children:"available"===p.status?"C\xf2n h\xe0ng":"out_of_stock"===p.status?"Hết h\xe0ng":"Ngừng kinh doanh"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-4 mb-4",children:[(0,t.jsx)("span",{className:"text-lg font-semibold",children:"GI\xc1:"}),(0,t.jsxs)("p",{className:"text-red-500 font-bold text-xl",children:[p.discount_price.toLocaleString("vi-VN")," VND"]}),(0,t.jsxs)("p",{className:"text-gray-500 line-through",children:[p.price.toLocaleString("vi-VN")," VND"]})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"K\xcdCH THƯỚC:"}),(0,t.jsx)("div",{className:"flex gap-2",children:p.productSizes.map(e=>(0,t.jsx)("button",{className:"px-8 py-2 border rounded hover:bg-gray-100 transition ".concat((null==C?void 0:C.id)===e.id?"bg-blue-100":""),onClick:()=>M(e),children:e.size},e.id))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"M\xc0U SẮC:"}),(0,t.jsx)("div",{className:"flex gap-2",children:p.productColors.map(e=>(0,t.jsx)("div",{className:"w-8 h-8 rounded-full border cursor-pointer hover:shadow-md ".concat((null==y?void 0:y.id)===e.id?"ring-2 ring-blue-500":""),style:{backgroundColor:e.hex_code},title:e.color,onClick:()=>k(e)},e.id))})]}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"CHỌN SỐ LƯỢNG:"}),(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsx)("button",{className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>L(e=>e>1?e-1:1),children:"-"}),(0,t.jsx)("input",{type:"number",className:"w-16 px-2 py-1 border rounded text-center",min:"1",value:P,readOnly:!0}),(0,t.jsx)("button",{className:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300",onClick:()=>L(e=>e+1),children:"+"})]})]}),(0,t.jsxs)("div",{className:"flex flex-wrap gap-4 mt-4 sm:flex-nowrap sm:gap-4 sm:justify-start",children:[(0,t.jsx)("button",{className:"bg-blue-600 text-white text-xl px-6 py-3 rounded hover:bg-blue-700 transition transform scale-100 hover:scale-105 w-full sm:w-auto",onClick:G,children:"TH\xcaM V\xc0O GIỎ"}),(0,t.jsx)("button",{className:"bg-red-600 text-white text-xl px-6 py-3 rounded hover:bg-red-700 transition transform scale-100 hover:scale-105 w-full sm:w-auto",onClick:()=>alert("Mua ngay!"),children:"MUA NGAY"})]})]})]}),(0,t.jsxs)("div",{className:"mt-8",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:space-x-4 space-y-2 sm:space-y-0",children:[(0,t.jsx)("button",{className:"w-full sm:w-auto px-4 py-2 border text-base sm:text-lg font-bold ".concat("reviews"===z?"bg-white border-blue-600 text-blue-600":"bg-white border-gray-300 text-gray-500"," rounded-md"),onClick:()=>I("reviews"),children:"Đ\xc1NH GI\xc1"}),(0,t.jsx)("button",{className:"w-full sm:w-auto px-4 py-2 border text-base sm:text-lg font-bold ".concat("description"===z?"bg-white border-blue-600 text-blue-600":"bg-white border-gray-300 text-gray-500"," rounded-md"),onClick:()=>I("description"),children:"M\xd4 TẢ SẢN PHẨM"})]}),(0,t.jsxs)("div",{className:"mt-6",children:["description"===z&&(0,t.jsx)(u,{description:p.description}),"reviews"===z&&(0,t.jsx)(x,{reviews:j,averageRating:w,pagination:f,reviewsError:N,handlePageChange:e=>{(null==p?void 0:p.id)&&e!==f.currentPage&&s((0,d.ik)({productId:p.id,page:e,limit:5}))},handleSubmitReview:R,reviewRating:H,setReviewRating:T,reviewText:_,setReviewText:S,getToken:i.gf,router:r})]})]})]})}):(0,t.jsx)("div",{children:"Kh\xf4ng t\xecm thấy sản phẩm."})}}},e=>{var s=s=>e(e.s=s);e.O(0,[392,636,593,792],()=>s(6898)),_N_E=e.O()}]);